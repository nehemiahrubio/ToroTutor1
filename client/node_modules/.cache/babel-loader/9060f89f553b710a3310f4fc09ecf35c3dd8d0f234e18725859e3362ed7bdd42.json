{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jackie\\\\OneDrive\\\\\\u6587\\u6863\\\\GitHub\\\\TutorUP-App\\\\client\\\\src\\\\components\\\\profile\\\\CreateProfile.js\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { createProfile, postCourse } from \"../../redux/actions/profileActions\";\nimport { getSubjects } from \"../../redux/actions/subjectActions\";\nimport PropTypes from \"prop-types\";\nimport { withRouter } from \"react-router-dom\";\nimport { Link } from \"react-router-dom\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Card from \"@material-ui/core/Card\";\nimport CardActions from \"@material-ui/core/CardActions\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport { FormControl, Input, InputLabel } from \"@material-ui/core\";\nimport Select from \"@material-ui/core/Select\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Button from \"@material-ui/core/Button\";\nimport \"./profile.css\";\nimport { filterArrDuplicates, sortArrByAscending, filterByOptions, findFirstMatch } from \"../../utils/lodashOps\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass CreateProfile extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      major: [],\n      bio: \"\",\n      type: \"\",\n      minor: [],\n      availability: \"\",\n      courses: [],\n      subjects: [],\n      errors: {}\n    };\n    this.addCourse = e => {\n      this.setState(prevState => ({\n        courses: [...prevState.courses, {\n          courseId: \"\",\n          courseName: \"\",\n          courseNumber: \"\",\n          courseSubject: \"\",\n          id: Math.random().toString(36).replace(/[^a-z]+/g, \"\").substr(2, 10)\n        }]\n      }));\n    };\n    this.removeCourse = id => {\n      let courses = [...this.state.courses];\n      const newCourses = courses.filter(course => {\n        return course.id !== id;\n      });\n      this.setState({\n        courses: [...newCourses]\n      });\n      if (newCourses.length === 0) {\n        console.log(\"No courses\");\n      }\n    };\n    this.onSubmit = e => {\n      e.preventDefault();\n      const {\n        bio,\n        major,\n        minor,\n        availability,\n        courses,\n        type\n      } = this.state;\n      const handle = this.props.auth.user.email.replace(\"@toromail.csudh.edu\", \"\");\n      const profileData = {\n        handle,\n        bio,\n        type,\n        major,\n        minor,\n        courses,\n        availability\n      };\n      this.props.createProfile(profileData, this.props.history);\n    };\n    this.onChange = e => {\n      const name = e.target.name;\n      if (name.includes(\"courseId\") || name.includes(\"courseNumber\") || name.includes(\"courseName\")) {\n        let courses = [...this.state.courses];\n        let i = name.charAt(name.length - 1);\n        let property = name.substring(0, name.length - 2);\n        courses[i][property] = e.target.value;\n\n        // if we just set the course ID property, also set the subject name\n        if (property === \"courseId\") {\n          let subject = findFirstMatch(this.state.subjects, [\"id\", e.target.value]);\n          courses[i].courseSubject = subject.name;\n        }\n        this.setState({\n          [courses]: courses\n        });\n      } else {\n        const {\n          major,\n          minor\n        } = this.state;\n        this.setState({\n          [e.target.name]: e.target.value\n        });\n        if (e.target.name === \"major\") {\n          const filtered = filterArrDuplicates(minor, e.target.value);\n          this.setState({\n            minor: filtered\n          });\n        } else if (e.target.name === \"minor\") {\n          const filtered = filterArrDuplicates(major, e.target.value);\n          this.setState({\n            major: filtered\n          });\n        }\n      }\n    };\n  }\n  componentDidMount() {\n    this.props.getSubjects();\n  }\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.errors) this.setState({\n      errors: nextProps.errors\n    });\n    if (nextProps.subjects.subjects) {\n      this.setState({\n        subjects: sortArrByAscending(nextProps.subjects.subjects, [\"name\"])\n      });\n    }\n  }\n  render() {\n    const {\n      bio,\n      major,\n      minor,\n      availability,\n      courses,\n      subjects,\n      type\n    } = this.state;\n    const minors = filterByOptions(subjects, [\"isMinor\", \"Yes\"]);\n    const majors = filterByOptions(subjects, [\"isMajor\", \"Yes\"]);\n    const subjectItems = filterByOptions(subjects, [\"isCourse\", \"Yes\"]);\n    const majorMenuItems = majors.map((major, i) => /*#__PURE__*/_jsxDEV(MenuItem, {\n      value: major.name,\n      children: major.name\n    }, i, false, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 7\n    }, this));\n    const minorMenuItems = minors.map((minor, i) => /*#__PURE__*/_jsxDEV(MenuItem, {\n      value: minor.name,\n      children: minor.name\n    }, i, false, {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 7\n    }, this));\n    const courseMenuItems = subjectItems.map((subject, i) => /*#__PURE__*/_jsxDEV(MenuItem, {\n      value: subject.id,\n      children: subject.id\n    }, i, false, {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 7\n    }, this));\n    const courseItems = courses.map((course, i) => {\n      let courseNumber = \"courseNumber-\" + i;\n      let courseId = \"courseId-\" + i;\n      let courseName = \"courseName-\" + i;\n      return /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        sm: 6,\n        md: 4,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          className: \"card\",\n          elevation: 0,\n          children: [/*#__PURE__*/_jsxDEV(CardContent, {\n            children: [/*#__PURE__*/_jsxDEV(FormControl, {\n              margin: \"normal\",\n              required: true,\n              fullWidth: true,\n              children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                htmlFor: courseId,\n                children: \"Course Identifier\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 177,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Select, {\n                value: course.courseId,\n                onChange: this.onChange,\n                variant: \"outlined\",\n                name: courseId,\n                id: \"courseId\",\n                MenuProps: {\n                  style: {\n                    maxHeight: 300\n                  }\n                },\n                children: courseMenuItems\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 178,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n              margin: \"normal\",\n              required: true,\n              maxLength: \"3\",\n              fullWidth: true,\n              children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                htmlFor: courseNumber,\n                children: \"Course Number\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 190,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Input, {\n                id: \"courseNumber\",\n                name: courseNumber,\n                value: course.courseNumber,\n                onChange: this.onChange,\n                type: \"number\",\n                inputProps: {\n                  min: 1,\n                  step: 1,\n                  pattern: \"[0-9]\",\n                  max: 999\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 191,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n              margin: \"normal\",\n              required: true,\n              fullWidth: true,\n              children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                htmlFor: courseName,\n                children: \"Course Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 201,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Input, {\n                id: \"courseName\",\n                name: courseName,\n                value: course.courseName,\n                onChange: this.onChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 202,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(CardActions, {\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              size: \"small\",\n              onClick: e => this.removeCourse(course.id),\n              children: \"Remove Course\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 211,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 11\n        }, this)\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 9\n      }, this);\n    });\n    ///enforcing major & type to be required\n    var validProfile = false;\n    if (major.length > 0 && type.length > 0) {\n      validProfile = true;\n    } else {\n      validProfile = false;\n    }\n\n    //courseId required for each new course\n    var validCourseIds = true;\n    if (courses.length > 0) {\n      for (var c in courses) {\n        let C = courses[c];\n        if (C.courseId.length > 0) {\n          validCourseIds = true;\n        } else {\n          validCourseIds = false;\n        }\n      }\n    }\n    //submit button invalid unless both are satisfied\n    var valid = false;\n    if (validCourseIds && validProfile) {\n      valid = true;\n    } else {\n      valid = false;\n    }\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"padding20\",\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h4\",\n        component: \"h1\",\n        align: \"center\",\n        className: \"editHeading\",\n        children: \"Create Tutor Profile\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: this.onSubmit,\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          spacing: 10,\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            sm: 6,\n            md: 6,\n            children: /*#__PURE__*/_jsxDEV(FormControl, {\n              margin: \"normal\",\n              required: true,\n              fullWidth: true,\n              children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                htmlFor: \"major\",\n                children: \"Major(s)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 264,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Select, {\n                required: true,\n                multiple: true,\n                value: major,\n                onChange: this.onChange,\n                variant: \"outlined\",\n                MenuProps: {\n                  style: {\n                    maxHeight: 300\n                  }\n                },\n                inputProps: {\n                  name: \"major\",\n                  id: \"major\"\n                },\n                children: majorMenuItems\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 265,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 263,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 262,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            sm: 6,\n            md: 6,\n            children: /*#__PURE__*/_jsxDEV(FormControl, {\n              margin: \"normal\",\n              fullWidth: true,\n              children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                htmlFor: \"minor\",\n                children: \"Minor(s)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 283,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Select, {\n                multiple: true,\n                value: minor || [],\n                onChange: this.onChange,\n                MenuProps: {\n                  style: {\n                    maxHeight: 300\n                  }\n                },\n                inputProps: {\n                  name: \"minor\",\n                  id: \"minor\"\n                },\n                children: minorMenuItems\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 284,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 282,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            sm: 6,\n            children: /*#__PURE__*/_jsxDEV(FormControl, {\n              margin: \"normal\",\n              required: true,\n              fullWidth: true,\n              children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                htmlFor: \"type\",\n                children: \"Paid or volunteer?\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 300,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Select, {\n                required: true,\n                value: type || \"\",\n                onChange: this.onChange,\n                MenuProps: {\n                  style: {\n                    maxHeight: 300\n                  }\n                },\n                inputProps: {\n                  name: \"type\",\n                  id: \"type\"\n                },\n                children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: \"\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 311,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: \"Paid\",\n                  children: \"Paid\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 312,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: \"Volunteer\",\n                  children: \"Volunteer\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 313,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 301,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 299,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            sm: 6,\n            children: /*#__PURE__*/_jsxDEV(FormControl, {\n              margin: \"normal\",\n              required: true,\n              fullWidth: true,\n              children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                htmlFor: \"bio\",\n                children: \"Short Bio\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 319,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Input, {\n                type: \"text\",\n                id: \"bio\",\n                name: \"bio\",\n                value: bio,\n                multiline: true,\n                fullWidth: true,\n                onChange: this.onChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 320,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 318,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 317,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            children: /*#__PURE__*/_jsxDEV(FormControl, {\n              margin: \"normal\",\n              required: true,\n              fullWidth: true,\n              children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                htmlFor: \"availability\",\n                children: \"Availablity\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 333,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Input, {\n                type: \"text\",\n                id: \"availability\",\n                name: \"availability\",\n                value: availability,\n                multiline: true,\n                fullWidth: true,\n                onChange: this.onChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 334,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 332,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 331,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          spacing: 10,\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"courses\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 348,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 347,\n            columnNumber: 13\n          }, this), courseItems, /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              \"aria-label\": \"Add Course\",\n              variant: \"outlined\",\n              onClick: this.addCourse,\n              children: \"Add a Course\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 352,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 351,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 346,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          justifyContent: \"flex-end\",\n          spacing: 10,\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              \"aria-label\": \"Cancel\",\n              align: \"right\",\n              type: \"cancel\",\n              className: \"Button\",\n              component: Link,\n              to: \"/profile\",\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 363,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 362,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              align: \"right\",\n              type: \"submit\",\n              variant: \"outlined\",\n              color: \"inherit\",\n              className: \"button\",\n              disabled: !valid,\n              children: \"Submit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 375,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 374,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 361,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 7\n    }, this);\n  }\n}\nCreateProfile.propTypes = {\n  profile: PropTypes.object.isRequired,\n  errors: PropTypes.object.isRequired\n};\nconst mapStateToProps = state => ({\n  profile: state.profile,\n  subjects: state.subjects,\n  errors: state.errors,\n  auth: state.auth\n});\nexport default connect(mapStateToProps, {\n  createProfile,\n  postCourse,\n  getSubjects\n})(withRouter(CreateProfile));","map":{"version":3,"names":["React","Component","connect","createProfile","postCourse","getSubjects","PropTypes","withRouter","Link","Grid","Typography","Card","CardActions","CardContent","FormControl","Input","InputLabel","Select","MenuItem","Button","filterArrDuplicates","sortArrByAscending","filterByOptions","findFirstMatch","jsxDEV","_jsxDEV","CreateProfile","constructor","arguments","state","major","bio","type","minor","availability","courses","subjects","errors","addCourse","e","setState","prevState","courseId","courseName","courseNumber","courseSubject","id","Math","random","toString","replace","substr","removeCourse","newCourses","filter","course","length","console","log","onSubmit","preventDefault","handle","props","auth","user","email","profileData","history","onChange","name","target","includes","i","charAt","property","substring","value","subject","filtered","componentDidMount","componentWillReceiveProps","nextProps","render","minors","majors","subjectItems","majorMenuItems","map","children","fileName","_jsxFileName","lineNumber","columnNumber","minorMenuItems","courseMenuItems","courseItems","item","xs","sm","md","className","elevation","margin","required","fullWidth","htmlFor","variant","MenuProps","style","maxHeight","maxLength","inputProps","min","step","pattern","max","size","onClick","validProfile","validCourseIds","c","C","valid","component","align","container","spacing","multiple","multiline","justifyContent","to","color","disabled","propTypes","profile","object","isRequired","mapStateToProps"],"sources":["C:/Users/jackie/OneDrive/文档/GitHub/TutorUP-App/client/src/components/profile/CreateProfile.js"],"sourcesContent":["import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { createProfile, postCourse } from \"../../redux/actions/profileActions\";\r\nimport { getSubjects } from \"../../redux/actions/subjectActions\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Card from \"@material-ui/core/Card\";\r\nimport CardActions from \"@material-ui/core/CardActions\";\r\nimport CardContent from \"@material-ui/core/CardContent\";\r\nimport { FormControl, Input, InputLabel } from \"@material-ui/core\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport \"./profile.css\";\r\nimport {\r\n  filterArrDuplicates,\r\n  sortArrByAscending,\r\n  filterByOptions,\r\n  findFirstMatch,\r\n} from \"../../utils/lodashOps\";\r\n\r\nclass CreateProfile extends Component {\r\n  state = {\r\n    major: [],\r\n    bio: \"\",\r\n    type: \"\",\r\n    minor: [],\r\n    availability: \"\",\r\n    courses: [],\r\n    subjects: [],\r\n    errors: {},\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.props.getSubjects();\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    if (nextProps.errors) this.setState({ errors: nextProps.errors });\r\n    if (nextProps.subjects.subjects) {\r\n      this.setState({\r\n        subjects: sortArrByAscending(nextProps.subjects.subjects, [\"name\"]),\r\n      });\r\n    }\r\n  }\r\n\r\n  addCourse = (e) => {\r\n    this.setState((prevState) => ({\r\n      courses: [\r\n        ...prevState.courses,\r\n        {\r\n          courseId: \"\",\r\n          courseName: \"\",\r\n          courseNumber: \"\",\r\n          courseSubject: \"\",\r\n          id: Math.random()\r\n            .toString(36)\r\n            .replace(/[^a-z]+/g, \"\")\r\n            .substr(2, 10),\r\n        },\r\n      ],\r\n    }));\r\n  };\r\n\r\n  removeCourse = (id) => {\r\n    let courses = [...this.state.courses];\r\n    const newCourses = courses.filter((course) => {\r\n      return course.id !== id;\r\n    });\r\n\r\n    this.setState({\r\n      courses: [...newCourses],\r\n    });\r\n\r\n    if (newCourses.length === 0) {\r\n      console.log(\"No courses\");\r\n    }\r\n  };\r\n\r\n  onSubmit = (e) => {\r\n    e.preventDefault();\r\n    const { bio, major, minor, availability, courses, type } = this.state;\r\n    const handle = this.props.auth.user.email.replace(\"@toromail.csudh.edu\", \"\");\r\n\r\n    const profileData = {\r\n      handle,\r\n      bio,\r\n      type,\r\n      major,\r\n      minor,\r\n      courses,\r\n      availability,\r\n    };\r\n\r\n    this.props.createProfile(profileData, this.props.history);\r\n  };\r\n\r\n  onChange = (e) => {\r\n    const name = e.target.name;\r\n    if (\r\n      name.includes(\"courseId\") ||\r\n      name.includes(\"courseNumber\") ||\r\n      name.includes(\"courseName\")\r\n    ) {\r\n      let courses = [...this.state.courses];\r\n      let i = name.charAt(name.length - 1);\r\n      let property = name.substring(0, name.length - 2);\r\n      courses[i][property] = e.target.value;\r\n\r\n      // if we just set the course ID property, also set the subject name\r\n      if (property === \"courseId\") {\r\n        let subject = findFirstMatch(this.state.subjects, [\r\n          \"id\",\r\n          e.target.value,\r\n        ]);\r\n        courses[i].courseSubject = subject.name;\r\n      }\r\n      this.setState({ [courses]: courses });\r\n    } else {\r\n      const { major, minor } = this.state;\r\n      this.setState({ [e.target.name]: e.target.value });\r\n      if (e.target.name === \"major\") {\r\n        const filtered = filterArrDuplicates(minor, e.target.value);\r\n        this.setState({ minor: filtered });\r\n      } else if (e.target.name === \"minor\") {\r\n        const filtered = filterArrDuplicates(major, e.target.value);\r\n        this.setState({ major: filtered });\r\n      }\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      bio,\r\n      major,\r\n      minor,\r\n      availability,\r\n      courses,\r\n      subjects,\r\n      type,\r\n    } = this.state;\r\n\r\n    const minors = filterByOptions(subjects, [\"isMinor\", \"Yes\"]);\r\n    const majors = filterByOptions(subjects, [\"isMajor\", \"Yes\"]);\r\n    const subjectItems = filterByOptions(subjects, [\"isCourse\", \"Yes\"]);\r\n\r\n    const majorMenuItems = majors.map((major, i) => (\r\n      <MenuItem key={i} value={major.name}>\r\n        {major.name}\r\n      </MenuItem>\r\n    ));\r\n    const minorMenuItems = minors.map((minor, i) => (\r\n      <MenuItem key={i} value={minor.name}>\r\n        {minor.name}\r\n      </MenuItem>\r\n    ));\r\n    const courseMenuItems = subjectItems.map((subject, i) => (\r\n      <MenuItem key={i} value={subject.id}>\r\n        {subject.id}\r\n      </MenuItem>\r\n    ));\r\n\r\n    const courseItems = courses.map((course, i) => {\r\n      let courseNumber = \"courseNumber-\" + i;\r\n      let courseId = \"courseId-\" + i;\r\n      let courseName = \"courseName-\" + i;\r\n\r\n      return (\r\n        <Grid item xs={12} sm={6} md={4} key={i}>\r\n          <Card className=\"card\" elevation={0}>\r\n            <CardContent>\r\n              <FormControl margin=\"normal\" required fullWidth>\r\n                <InputLabel htmlFor={courseId}>Course Identifier</InputLabel>\r\n                <Select\r\n                  value={course.courseId}\r\n                  onChange={this.onChange}\r\n                  variant=\"outlined\"\r\n                  name={courseId}\r\n                  id=\"courseId\"\r\n                  MenuProps={{ style: { maxHeight: 300 } }}\r\n                >\r\n                  {courseMenuItems}\r\n                </Select>\r\n              </FormControl>\r\n              <FormControl margin=\"normal\" required maxLength=\"3\" fullWidth>\r\n                <InputLabel htmlFor={courseNumber}>Course Number</InputLabel>\r\n                <Input\r\n                  id=\"courseNumber\"\r\n                  name={courseNumber}\r\n                  value={course.courseNumber}\r\n                  onChange={this.onChange}\r\n                  type=\"number\"\r\n                  inputProps={{ min: 1, step: 1, pattern: \"[0-9]\", max: 999 }}\r\n                />\r\n              </FormControl>\r\n              <FormControl margin=\"normal\" required fullWidth>\r\n                <InputLabel htmlFor={courseName}>Course Name</InputLabel>\r\n                <Input\r\n                  id=\"courseName\"\r\n                  name={courseName}\r\n                  value={course.courseName}\r\n                  onChange={this.onChange}\r\n                />\r\n              </FormControl>\r\n            </CardContent>\r\n            <CardActions>\r\n              <Button\r\n                size=\"small\"\r\n                onClick={(e) => this.removeCourse(course.id)}\r\n              >\r\n                Remove Course\r\n              </Button>\r\n            </CardActions>\r\n          </Card>\r\n        </Grid>\r\n      );\r\n    });\r\n    ///enforcing major & type to be required\r\n    var validProfile = false;\r\n    if (major.length > 0 && type.length > 0) {\r\n      validProfile = true;\r\n    } else {\r\n      validProfile = false;\r\n    }\r\n\r\n    //courseId required for each new course\r\n    var validCourseIds = true;\r\n    if (courses.length > 0) {\r\n      for (var c in courses) {\r\n        let C = courses[c];\r\n        if (C.courseId.length > 0) {\r\n          validCourseIds = true;\r\n        } else {\r\n          validCourseIds = false;\r\n        }\r\n      }\r\n    }\r\n    //submit button invalid unless both are satisfied\r\n    var valid = false;\r\n    if (validCourseIds && validProfile) {\r\n      valid = true;\r\n    } else {\r\n      valid = false;\r\n    }\r\n\r\n    return (\r\n      <div className=\"padding20\">\r\n        <Typography\r\n          variant=\"h4\"\r\n          component=\"h1\"\r\n          align=\"center\"\r\n          className=\"editHeading\"\r\n        >\r\n          Create Tutor Profile\r\n        </Typography>\r\n        <form onSubmit={this.onSubmit}>\r\n          <Grid container spacing={10}>\r\n            <Grid item xs={12} sm={6} md={6}>\r\n              <FormControl margin=\"normal\" required fullWidth>\r\n                <InputLabel htmlFor=\"major\">Major(s)</InputLabel>\r\n                <Select\r\n                  required\r\n                  multiple\r\n                  value={major}\r\n                  onChange={this.onChange}\r\n                  variant=\"outlined\"\r\n                  MenuProps={{ style: { maxHeight: 300 } }}\r\n                  inputProps={{\r\n                    name: \"major\",\r\n                    id: \"major\",\r\n                  }}\r\n                >\r\n                  {majorMenuItems}\r\n                </Select>\r\n              </FormControl>\r\n            </Grid>\r\n            <Grid item xs={12} sm={6} md={6}>\r\n              <FormControl margin=\"normal\" fullWidth>\r\n                <InputLabel htmlFor=\"minor\">Minor(s)</InputLabel>\r\n                <Select\r\n                  multiple\r\n                  value={minor || []}\r\n                  onChange={this.onChange}\r\n                  MenuProps={{ style: { maxHeight: 300 } }}\r\n                  inputProps={{\r\n                    name: \"minor\",\r\n                    id: \"minor\",\r\n                  }}\r\n                >\r\n                  {minorMenuItems}\r\n                </Select>\r\n              </FormControl>\r\n            </Grid>\r\n            <Grid item xs={12} sm={6}>\r\n              <FormControl margin=\"normal\" required fullWidth>\r\n                <InputLabel htmlFor=\"type\">Paid or volunteer?</InputLabel>\r\n                <Select\r\n                  required\r\n                  value={type || \"\"}\r\n                  onChange={this.onChange}\r\n                  MenuProps={{ style: { maxHeight: 300 } }}\r\n                  inputProps={{\r\n                    name: \"type\",\r\n                    id: \"type\",\r\n                  }}\r\n                >\r\n                  <MenuItem value=\"\" />\r\n                  <MenuItem value=\"Paid\">Paid</MenuItem>\r\n                  <MenuItem value=\"Volunteer\">Volunteer</MenuItem>\r\n                </Select>\r\n              </FormControl>\r\n            </Grid>\r\n            <Grid item xs={12} sm={6}>\r\n              <FormControl margin=\"normal\" required fullWidth>\r\n                <InputLabel htmlFor=\"bio\">Short Bio</InputLabel>\r\n                <Input\r\n                  type=\"text\"\r\n                  id=\"bio\"\r\n                  name=\"bio\"\r\n                  value={bio}\r\n                  multiline\r\n                  fullWidth\r\n                  onChange={this.onChange}\r\n                />\r\n              </FormControl>\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <FormControl margin=\"normal\" required fullWidth>\r\n                <InputLabel htmlFor=\"availability\">Availablity</InputLabel>\r\n                <Input\r\n                  type=\"text\"\r\n                  id=\"availability\"\r\n                  name=\"availability\"\r\n                  value={availability}\r\n                  multiline\r\n                  fullWidth\r\n                  onChange={this.onChange}\r\n                />\r\n              </FormControl>\r\n            </Grid>\r\n          </Grid>\r\n          <Grid container spacing={10}>\r\n            <Grid item xs={12}>\r\n              <div className=\"courses\" />\r\n            </Grid>\r\n            {courseItems}\r\n            <Grid item xs={12}>\r\n              <Button\r\n                aria-label=\"Add Course\"\r\n                variant=\"outlined\"\r\n                onClick={this.addCourse}\r\n              >\r\n                Add a Course\r\n              </Button>\r\n            </Grid>\r\n          </Grid>\r\n          <Grid container justifyContent=\"flex-end\" spacing={10}>\r\n            <Grid item>\r\n              <Button\r\n                aria-label=\"Cancel\"\r\n                align=\"right\"\r\n                type=\"cancel\"\r\n                className=\"Button\"\r\n                component={Link}\r\n                to=\"/profile\"\r\n              >\r\n                Cancel\r\n              </Button>\r\n            </Grid>\r\n            <Grid item>\r\n              <Button\r\n                align=\"right\"\r\n                type=\"submit\"\r\n                variant=\"outlined\"\r\n                color=\"inherit\"\r\n                className=\"button\"\r\n                disabled={!valid}\r\n              >\r\n                Submit\r\n              </Button>\r\n            </Grid>\r\n          </Grid>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nCreateProfile.propTypes = {\r\n  profile: PropTypes.object.isRequired,\r\n  errors: PropTypes.object.isRequired,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  profile: state.profile,\r\n  subjects: state.subjects,\r\n  errors: state.errors,\r\n  auth: state.auth,\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { createProfile, postCourse, getSubjects }\r\n)(withRouter(CreateProfile));\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}