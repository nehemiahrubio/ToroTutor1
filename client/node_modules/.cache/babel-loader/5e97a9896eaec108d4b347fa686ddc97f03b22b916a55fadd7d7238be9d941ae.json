{"ast":null,"code":"import axios from \"axios\";\nimport jwt_decode from \"jwt-decode\";\nconst setAuthToken = token => {\n  if (token) {\n    axios.defaults.headers.common[\"Authorization\"] = token;\n  } else {\n    delete axios.defaults.headers.common[\"Authorization\"];\n  }\n};\nexport const checkAuth = () => {\n  // Check for token\n  if (localStorage.jwtToken) {\n    // Set auth token\n    setAuthToken(localStorage.jwtToken);\n\n    // Decode token and get user info\n    const decoded = jwt_decode(localStorage.jwtToken);\n    return decoded;\n  }\n};","map":{"version":3,"names":["axios","jwt_decode","setAuthToken","token","defaults","headers","common","checkAuth","localStorage","jwtToken","decoded"],"sources":["C:/Users/jackie/OneDrive/文档/GitHub/ToroTutor1/client/src/utils/authPersist.js"],"sourcesContent":["import axios from \"axios\";\r\nimport jwt_decode from \"jwt-decode\";\r\n\r\nconst setAuthToken = (token) => {\r\n  if (token) {\r\n    axios.defaults.headers.common[\"Authorization\"] = token;\r\n  } else {\r\n    delete axios.defaults.headers.common[\"Authorization\"];\r\n  }\r\n};\r\n\r\nexport const checkAuth = () => {\r\n  // Check for token\r\n  if (localStorage.jwtToken) {\r\n    // Set auth token\r\n    setAuthToken(localStorage.jwtToken);\r\n\r\n    // Decode token and get user info\r\n    const decoded = jwt_decode(localStorage.jwtToken);\r\n    return decoded;\r\n  }\r\n};\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,UAAU,MAAM,YAAY;AAEnC,MAAMC,YAAY,GAAIC,KAAK,IAAK;EAC9B,IAAIA,KAAK,EAAE;IACTH,KAAK,CAACI,QAAQ,CAACC,OAAO,CAACC,MAAM,CAAC,eAAe,CAAC,GAAGH,KAAK;EACxD,CAAC,MAAM;IACL,OAAOH,KAAK,CAACI,QAAQ,CAACC,OAAO,CAACC,MAAM,CAAC,eAAe,CAAC;EACvD;AACF,CAAC;AAED,OAAO,MAAMC,SAAS,GAAGA,CAAA,KAAM;EAC7B;EACA,IAAIC,YAAY,CAACC,QAAQ,EAAE;IACzB;IACAP,YAAY,CAACM,YAAY,CAACC,QAAQ,CAAC;;IAEnC;IACA,MAAMC,OAAO,GAAGT,UAAU,CAACO,YAAY,CAACC,QAAQ,CAAC;IACjD,OAAOC,OAAO;EAChB;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}