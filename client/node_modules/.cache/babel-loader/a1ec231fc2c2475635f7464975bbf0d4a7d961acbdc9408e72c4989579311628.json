{"ast":null,"code":"import axios from \"axios\";\nimport { GET_SUBJECTS, SUBJECTS_LOADING, GET_ERRORS } from \"./types\";\nexport const createSubjects = (subjectData, history) => dispatch => {\n  axios.post(\"/api/subjects\", subjectData).then(res => history.push(\"/subjects\")).catch(err => dispatch({\n    type: GET_ERRORS,\n    payload: err.response.data\n  }));\n};\n\n// Get all subjects\nexport const getSubjects = () => dispatch => {\n  dispatch(setSubjectsLoading());\n  axios.get(\"/api/subjects\").then(res => {\n    dispatch({\n      type: GET_SUBJECTS,\n      payload: res.data\n    });\n  }).catch(err => {\n    dispatch({\n      type: GET_ERRORS,\n      payload: null\n    });\n  });\n};\n\n// Delete a subject by ID\nexport const removeSubject = (subjectId, history) => dispatch => {\n  axios.delete(\"/api/subjects\", {\n    data: {\n      id: subjectId\n    }\n  }).then(res => {\n    // Dispatch an action to update the state after successful deletion\n    dispatch({\n      type: GET_SUBJECTS,\n      payload: res.data // Assuming the response contains the updated subjects\n    });\n    // Optionally, you can dispatch other actions or perform additional logic here\n  }).catch(err => console.log(err));\n};\n\n// Subjects loading\nexport const setSubjectsLoading = () => {\n  return {\n    type: SUBJECTS_LOADING\n  };\n};","map":{"version":3,"names":["axios","GET_SUBJECTS","SUBJECTS_LOADING","GET_ERRORS","createSubjects","subjectData","history","dispatch","post","then","res","push","catch","err","type","payload","response","data","getSubjects","setSubjectsLoading","get","removeSubject","subjectId","delete","id","console","log"],"sources":["C:/Users/jackie/OneDrive/文档/GitHub/TutorUP-App/client/src/redux/actions/subjectActions.js"],"sourcesContent":["import axios from \"axios\";\r\nimport { GET_SUBJECTS, SUBJECTS_LOADING, GET_ERRORS } from \"./types\";\r\n\r\nexport const createSubjects = (subjectData, history) => (dispatch) => {\r\n  axios\r\n    .post(\"/api/subjects\", subjectData)\r\n    .then((res) => history.push(\"/subjects\"))\r\n    .catch((err) =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err.response.data,\r\n      })\r\n    );\r\n};\r\n\r\n// Get all subjects\r\nexport const getSubjects = () => (dispatch) => {\r\n  dispatch(setSubjectsLoading());\r\n  axios\r\n    .get(\"/api/subjects\")\r\n    .then((res) => {\r\n      dispatch({\r\n        type: GET_SUBJECTS,\r\n        payload: res.data,\r\n      });\r\n    })\r\n    .catch((err) => {\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: null,\r\n      });\r\n    });\r\n};\r\n\r\n// Delete a subject by ID\r\nexport const removeSubject = (subjectId, history) => (dispatch) => {\r\n  axios\r\n    .delete(\"/api/subjects\", { data: { id: subjectId } })\r\n    .then((res) => {\r\n      // Dispatch an action to update the state after successful deletion\r\n      dispatch({\r\n        type: GET_SUBJECTS,\r\n        payload: res.data, // Assuming the response contains the updated subjects\r\n      });\r\n      // Optionally, you can dispatch other actions or perform additional logic here\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\n\r\n// Subjects loading\r\nexport const setSubjectsLoading = () => {\r\n  return {\r\n    type: SUBJECTS_LOADING,\r\n  };\r\n};\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,YAAY,EAAEC,gBAAgB,EAAEC,UAAU,QAAQ,SAAS;AAEpE,OAAO,MAAMC,cAAc,GAAGA,CAACC,WAAW,EAAEC,OAAO,KAAMC,QAAQ,IAAK;EACpEP,KAAK,CACFQ,IAAI,CAAC,eAAe,EAAEH,WAAW,CAAC,CAClCI,IAAI,CAAEC,GAAG,IAAKJ,OAAO,CAACK,IAAI,CAAC,WAAW,CAAC,CAAC,CACxCC,KAAK,CAAEC,GAAG,IACTN,QAAQ,CAAC;IACPO,IAAI,EAAEX,UAAU;IAChBY,OAAO,EAAEF,GAAG,CAACG,QAAQ,CAACC;EACxB,CAAC,CACH,CAAC;AACL,CAAC;;AAED;AACA,OAAO,MAAMC,WAAW,GAAGA,CAAA,KAAOX,QAAQ,IAAK;EAC7CA,QAAQ,CAACY,kBAAkB,CAAC,CAAC,CAAC;EAC9BnB,KAAK,CACFoB,GAAG,CAAC,eAAe,CAAC,CACpBX,IAAI,CAAEC,GAAG,IAAK;IACbH,QAAQ,CAAC;MACPO,IAAI,EAAEb,YAAY;MAClBc,OAAO,EAAEL,GAAG,CAACO;IACf,CAAC,CAAC;EACJ,CAAC,CAAC,CACDL,KAAK,CAAEC,GAAG,IAAK;IACdN,QAAQ,CAAC;MACPO,IAAI,EAAEX,UAAU;MAChBY,OAAO,EAAE;IACX,CAAC,CAAC;EACJ,CAAC,CAAC;AACN,CAAC;;AAED;AACA,OAAO,MAAMM,aAAa,GAAGA,CAACC,SAAS,EAAEhB,OAAO,KAAMC,QAAQ,IAAK;EACjEP,KAAK,CACFuB,MAAM,CAAC,eAAe,EAAE;IAAEN,IAAI,EAAE;MAAEO,EAAE,EAAEF;IAAU;EAAE,CAAC,CAAC,CACpDb,IAAI,CAAEC,GAAG,IAAK;IACb;IACAH,QAAQ,CAAC;MACPO,IAAI,EAAEb,YAAY;MAClBc,OAAO,EAAEL,GAAG,CAACO,IAAI,CAAE;IACrB,CAAC,CAAC;IACF;EACF,CAAC,CAAC,CACDL,KAAK,CAAEC,GAAG,IAAKY,OAAO,CAACC,GAAG,CAACb,GAAG,CAAC,CAAC;AACrC,CAAC;;AAGD;AACA,OAAO,MAAMM,kBAAkB,GAAGA,CAAA,KAAM;EACtC,OAAO;IACLL,IAAI,EAAEZ;EACR,CAAC;AACH,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}