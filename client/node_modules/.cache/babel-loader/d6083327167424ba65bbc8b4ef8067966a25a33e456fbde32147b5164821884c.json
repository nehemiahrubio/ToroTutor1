{"ast":null,"code":"import axios from \"axios\";\nimport { GET_PROFILE, GET_PROFILES, PROFILE_LOADING, GET_ERRORS, CLEAR_CURRENT_PROFILE, SET_CURRENT_USER } from \"./types\";\n\n// Get current profile\nexport const getCurrentProfile = () => dispatch => {\n  dispatch(setProfileLoading());\n  axios.get(\"/api/profile\").then(res => dispatch({\n    type: GET_PROFILE,\n    payload: res.data\n  })).catch(err => dispatch({\n    type: GET_PROFILE,\n    payload: {}\n  }));\n};\nexport const getProfileByHandle = handle => dispatch => {\n  dispatch(setProfileLoading());\n  axios.get(\"/api/profile/handle/\".concat(handle)).then(res => dispatch({\n    type: GET_PROFILE,\n    payload: res.data\n  })).catch(err => dispatch({\n    type: GET_PROFILE,\n    payload: null\n  }));\n};\nexport const createProfile = (profileData, history) => dispatch => {\n  axios.post(\"/api/profile\", profileData).then(res => history.push(\"/profile\")).catch(err => console.error(err));\n};\n\n// Get all profiles (only enabled profiles)\nexport const getProfiles = () => dispatch => {\n  dispatch(setProfileLoading());\n  axios.get(\"/api/profile/all\").then(res => {\n    dispatch({\n      type: GET_PROFILES,\n      payload: res.data\n    });\n  }).catch(err => {\n    dispatch({\n      type: GET_ERRORS,\n      payload: null\n    });\n  });\n};\nexport const disableProfileByUser = userId => dispatch => {\n  axios.post(\"api/profile/disableProfile\", {\n    userId: userId\n  }).catch(err => console.error(err));\n};\nexport const enableProfileByUser = userId => dispatch => {\n  axios.post(\"api/profile/enableProfile\", {\n    userId: userId\n  }).catch(err => console.error(err));\n};\nexport const getProfileByName = name => dispatch => {\n  axios.get(\"/api/profile/search/\".concat(name)).then(res => {\n    dispatch({\n      payload: res.data\n    });\n  }).catch(err => {\n    dispatch({\n      payload: null\n    });\n  });\n};\n\n// Delete account & profile\nexport const deleteAccount = () => dispatch => {\n  axios.delete(\"/api/profile\").then(res => dispatch({\n    type: SET_CURRENT_USER,\n    payload: {}\n  })).catch(err => dispatch({\n    type: GET_ERRORS,\n    payload: err.response.data\n  }));\n};\nexport const deleteAccountByAdmin = id => dispatch => {\n  axios.delete(\"/api/profile/id\", {\n    data: {\n      id: id\n    }\n  }).catch(err => dispatch({\n    type: GET_ERRORS,\n    payload: err.response.data\n  }));\n};\n\n// Profile loading\nexport const setProfileLoading = () => {\n  return {\n    type: PROFILE_LOADING\n  };\n};\n\n// Clear profile\nexport const clearCurrentProfile = () => {\n  return {\n    type: CLEAR_CURRENT_PROFILE\n  };\n};\n\n// ADMIN: Get all enabled and disabled profiles\nexport const getAllProfilesByAdmin = () => dispatch => {\n  dispatch(setProfileLoading());\n  axios.get(\"/api/profile/allUsers\").then(res => {\n    dispatch({\n      type: GET_PROFILES,\n      payload: res.data\n    });\n  }).catch(err => {\n    dispatch({\n      type: GET_ERRORS,\n      payload: null\n    });\n  });\n};\n\n// ADMIN: Create or update a course\nexport const postCourse = courseData => dispatch => {\n  axios.post(\"/api/courses\", courseData).then(res => {\n    console.log(res.data);\n  }).catch(err => console.log(err));\n};","map":{"version":3,"names":["axios","GET_PROFILE","GET_PROFILES","PROFILE_LOADING","GET_ERRORS","CLEAR_CURRENT_PROFILE","SET_CURRENT_USER","getCurrentProfile","dispatch","setProfileLoading","get","then","res","type","payload","data","catch","err","getProfileByHandle","handle","concat","createProfile","profileData","history","post","push","console","error","getProfiles","disableProfileByUser","userId","enableProfileByUser","getProfileByName","name","deleteAccount","delete","response","deleteAccountByAdmin","id","clearCurrentProfile","getAllProfilesByAdmin","postCourse","courseData","log"],"sources":["C:/Users/jackie/OneDrive/文档/GitHub/TutorUP-App/client/src/redux/actions/profileActions.js"],"sourcesContent":["import axios from \"axios\";\r\nimport {\r\n  GET_PROFILE,\r\n  GET_PROFILES,\r\n  PROFILE_LOADING,\r\n  GET_ERRORS,\r\n  CLEAR_CURRENT_PROFILE,\r\n  SET_CURRENT_USER,\r\n} from \"./types\";\r\n\r\n// Get current profile\r\nexport const getCurrentProfile = () => (dispatch) => {\r\n  dispatch(setProfileLoading());\r\n  axios\r\n    .get(\"/api/profile\")\r\n    .then((res) =>\r\n      dispatch({\r\n        type: GET_PROFILE,\r\n        payload: res.data,\r\n      })\r\n    )\r\n    .catch((err) =>\r\n      dispatch({\r\n        type: GET_PROFILE,\r\n        payload: {},\r\n      })\r\n    );\r\n};\r\n\r\nexport const getProfileByHandle = (handle) => (dispatch) => {\r\n  dispatch(setProfileLoading());\r\n  axios\r\n    .get(`/api/profile/handle/${handle}`)\r\n    .then((res) =>\r\n      dispatch({\r\n        type: GET_PROFILE,\r\n        payload: res.data,\r\n      })\r\n    )\r\n    .catch((err) =>\r\n      dispatch({\r\n        type: GET_PROFILE,\r\n        payload: null,\r\n      })\r\n    );\r\n};\r\n\r\nexport const createProfile = (profileData, history) => (dispatch) => {\r\n  axios\r\n    .post(\"/api/profile\", profileData)\r\n    .then((res) => history.push(\"/profile\"))\r\n    .catch((err) => console.error(err));\r\n};\r\n\r\n// Get all profiles (only enabled profiles)\r\nexport const getProfiles = () => (dispatch) => {\r\n  dispatch(setProfileLoading());\r\n  axios\r\n    .get(\"/api/profile/all\")\r\n    .then((res) => {\r\n      dispatch({\r\n        type: GET_PROFILES,\r\n        payload: res.data,\r\n      });\r\n    })\r\n    .catch((err) => {\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: null,\r\n      });\r\n    });\r\n};\r\n\r\nexport const disableProfileByUser = (userId) => (dispatch) => {\r\n  axios\r\n    .post(\"api/profile/disableProfile\", { userId: userId })\r\n    .catch((err) => console.error(err));\r\n};\r\n\r\nexport const enableProfileByUser = (userId) => (dispatch) => {\r\n  axios\r\n    .post(\"api/profile/enableProfile\", { userId: userId })\r\n    .catch((err) => console.error(err));\r\n};\r\n\r\nexport const getProfileByName = (name) => (dispatch) => {\r\n  axios\r\n    .get(`/api/profile/search/${name}`)\r\n    .then((res) => {\r\n      dispatch({\r\n        payload: res.data,\r\n      });\r\n    })\r\n    .catch((err) => {\r\n      dispatch({\r\n        payload: null,\r\n      });\r\n    });\r\n};\r\n\r\n// Delete account & profile\r\nexport const deleteAccount = () => (dispatch) => {\r\n  axios\r\n    .delete(\"/api/profile\")\r\n    .then((res) =>\r\n      dispatch({\r\n        type: SET_CURRENT_USER,\r\n        payload: {},\r\n      })\r\n    )\r\n    .catch((err) =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err.response.data,\r\n      })\r\n    );\r\n};\r\n\r\nexport const deleteAccountByAdmin = (id) => (dispatch) => {\r\n  axios.delete(\"/api/profile/id\", { data: { id: id } }).catch((err) =>\r\n    dispatch({\r\n      type: GET_ERRORS,\r\n      payload: err.response.data,\r\n    })\r\n  );\r\n};\r\n\r\n// Profile loading\r\nexport const setProfileLoading = () => {\r\n  return {\r\n    type: PROFILE_LOADING,\r\n  };\r\n};\r\n\r\n// Clear profile\r\nexport const clearCurrentProfile = () => {\r\n  return {\r\n    type: CLEAR_CURRENT_PROFILE,\r\n  };\r\n};\r\n\r\n// ADMIN: Get all enabled and disabled profiles\r\nexport const getAllProfilesByAdmin = () => (dispatch) => {\r\n  dispatch(setProfileLoading());\r\n  axios\r\n    .get(\"/api/profile/allUsers\")\r\n    .then((res) => {\r\n      dispatch({\r\n        type: GET_PROFILES,\r\n        payload: res.data,\r\n      });\r\n    })\r\n    .catch((err) => {\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: null,\r\n      });\r\n    });\r\n};\r\n\r\n// ADMIN: Create or update a course\r\nexport const postCourse = (courseData) => (dispatch) => {\r\n  axios\r\n    .post(\"/api/courses\", courseData)\r\n    .then((res) => {\r\n      console.log(res.data);\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}