{"ast":null,"code":"import axios from\"axios\";import jwt_decode from\"jwt-decode\";const setAuthToken=token=>{if(token){axios.defaults.headers.common[\"Authorization\"]=token;}else{delete axios.defaults.headers.common[\"Authorization\"];}};export const checkAuth=()=>{// Check for token\nif(localStorage.jwtToken){// Set auth token\nsetAuthToken(localStorage.jwtToken);// Decode token and get user info\nconst decoded=jwt_decode(localStorage.jwtToken);return decoded;}};","map":{"version":3,"names":["axios","jwt_decode","setAuthToken","token","defaults","headers","common","checkAuth","localStorage","jwtToken","decoded"],"sources":["C:/Users/jackie/OneDrive/文档/GitHub/TutorUP-App/client/src/utils/authPersist.js"],"sourcesContent":["import axios from \"axios\";\r\nimport jwt_decode from \"jwt-decode\";\r\n\r\nconst setAuthToken = (token) => {\r\n  if (token) {\r\n    axios.defaults.headers.common[\"Authorization\"] = token;\r\n  } else {\r\n    delete axios.defaults.headers.common[\"Authorization\"];\r\n  }\r\n};\r\n\r\nexport const checkAuth = () => {\r\n  // Check for token\r\n  if (localStorage.jwtToken) {\r\n    // Set auth token\r\n    setAuthToken(localStorage.jwtToken);\r\n\r\n    // Decode token and get user info\r\n    const decoded = jwt_decode(localStorage.jwtToken);\r\n    return decoded;\r\n  }\r\n};\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,UAAU,KAAM,YAAY,CAEnC,KAAM,CAAAC,YAAY,CAAIC,KAAK,EAAK,CAC9B,GAAIA,KAAK,CAAE,CACTH,KAAK,CAACI,QAAQ,CAACC,OAAO,CAACC,MAAM,CAAC,eAAe,CAAC,CAAGH,KAAK,CACxD,CAAC,IAAM,CACL,MAAO,CAAAH,KAAK,CAACI,QAAQ,CAACC,OAAO,CAACC,MAAM,CAAC,eAAe,CAAC,CACvD,CACF,CAAC,CAED,MAAO,MAAM,CAAAC,SAAS,CAAGA,CAAA,GAAM,CAC7B;AACA,GAAIC,YAAY,CAACC,QAAQ,CAAE,CACzB;AACAP,YAAY,CAACM,YAAY,CAACC,QAAQ,CAAC,CAEnC;AACA,KAAM,CAAAC,OAAO,CAAGT,UAAU,CAACO,YAAY,CAACC,QAAQ,CAAC,CACjD,MAAO,CAAAC,OAAO,CAChB,CACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}