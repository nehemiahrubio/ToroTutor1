{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jackie\\\\OneDrive\\\\\\u6587\\u6863\\\\GitHub\\\\ToroTutor1\\\\client\\\\src\\\\components\\\\admin\\\\Users.js\";\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { withRouter } from \"react-router-dom\";\nimport { deleteAccountByAdmin, disableProfileByUser, enableProfileByUser, getAllProfilesByAdmin } from \"../../redux/actions/profileActions\";\nimport { setAdmin } from \"../../redux/actions/authActions\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport AddAdminIcon from \"@material-ui/icons/PersonAdd\";\nimport RemoveAdminIcon from \"@material-ui/icons/PersonAddDisabled\";\nimport DisabledIcon from \"@material-ui/icons/VisibilityOff\";\nimport VisibleIcon from \"@material-ui/icons/Visibility\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport SnackbarContent from \"@material-ui/core/SnackbarContent\";\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport _ from \"lodash\";\nimport { sortArrByAscending, removeByMatch } from \"../../utils/lodashOps\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CustomTableCell = withStyles(theme => ({\n  head: {\n    backgroundColor: \"#5E9CAE\",\n    color: \"#fff\",\n    fontWeight: \"bold\"\n  }\n}))(TableCell);\n_c = CustomTableCell;\nconst styles = theme => ({\n  success: {\n    backgroundColor: \"#EEAF30\"\n  },\n  message: {\n    display: \"flex\",\n    alignItems: \"center\"\n  }\n});\nclass Users extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      profiles: [],\n      profilesToDisable: [],\n      adminToastOpen: false,\n      adminToastMsg: \"\",\n      enableToastOpen: false,\n      enableToastMsg: \"\",\n      deleteDialogOpen: false,\n      deleteName: \"\",\n      deleteUserId: \"\",\n      errors: {}\n    };\n    this.handleAdminClose = () => {\n      this.setState({\n        adminToastOpen: false\n      });\n    };\n    this.handleEnableClose = () => {\n      this.setState({\n        enableToastOpen: false\n      });\n    };\n    this.handleDeleteOpen = () => {\n      this.setState({\n        deleteDialogOpen: true\n      });\n    };\n    this.handleDeleteClose = () => {\n      this.setState({\n        deleteDialogOpen: false,\n        deleteName: \"\",\n        deleteUserId: \"\"\n      });\n    };\n    this.handleDeleteSuccessClose = () => {\n      this.setState({\n        deleteDialogOpen: false,\n        deleteName: \"\",\n        deleteUserId: \"\"\n      });\n      let profiles = [...this.state.profiles];\n      const newProfiles = profiles.filter(user => {\n        return user._id !== this.state.deleteUserId;\n      });\n      this.setState({\n        profiles: [...newProfiles]\n      });\n      const id = {\n        user: this.state.deleteUserId\n      };\n      this.props.deleteAccountByAdmin(id);\n    };\n    this.deleteUser = (e, userID) => {\n      e.preventDefault();\n      let profiles = [...this.state.profiles];\n      let updatedUser = removeByMatch(profiles, function (user) {\n        return user._id === userID;\n      });\n      let userName = updatedUser[0].firstname + \" \" + updatedUser[0].lastname;\n      this.setState({\n        deleteUserId: userID,\n        deleteName: userName\n      }, () => this.handleDeleteOpen());\n    };\n    this.setAdmin = (e, userID, value) => {\n      // update the state with the new variable\n      let profiles = [...this.state.profiles];\n      let updatedUser = removeByMatch(profiles, function (user) {\n        return user._id === userID;\n      });\n      updatedUser[0].isAdmin = value;\n      let msgType = value ? \"added\" : \"removed\";\n      let msg = \"Admin privileges \".concat(msgType, \" for \").concat(updatedUser[0].firstname, \" \").concat(updatedUser[0].lastname, \".\");\n      this.setState({\n        profiles: sortArrByAscending(_.concat(profiles, updatedUser), [\"firstname\", \"lastname\"]),\n        adminToastOpen: true,\n        adminToastMsg: msg\n      });\n\n      // create object to send to backend\n      const data = {\n        id: userID,\n        isAdmin: value\n      };\n      this.props.setAdmin(data);\n    };\n    this.selectDisable = (e, userId, setting) => {\n      e.preventDefault();\n      if (setting === \"enable\") this.props.enableProfileByUser(userId);else if (setting === \"disable\") this.props.disableProfileByUser(userId);\n      let profiles = [...this.state.profiles];\n      let updatedUser = removeByMatch(profiles, function (user) {\n        return user._id === userId;\n      });\n      updatedUser[0].disabled = setting === \"enable\" ? false : true;\n      let msgType = setting === \"enable\" ? \"enabled\" : \"disabled\";\n      let msg = \"\".concat(updatedUser[0].firstname, \" \").concat(updatedUser[0].lastname, \"'s profile has been \").concat(msgType, \".\");\n      this.setState({\n        profiles: sortArrByAscending(_.concat(profiles, updatedUser), [\"firstname\", \"lastname\"]),\n        enableToastOpen: true,\n        enableToastMsg: msg\n      });\n    };\n  }\n  componentDidMount() {\n    this.props.getAllProfilesByAdmin();\n  }\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.errors) this.setState({\n      errors: nextProps.errors\n    });\n    if (nextProps.profiles) {\n      this.setState({\n        profiles: sortArrByAscending(nextProps.profiles, [\"firstname\", \"lastname\"])\n      });\n    }\n  }\n  render() {\n    const {\n      classes,\n      auth\n    } = this.props;\n    const {\n      profiles\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"padding20\",\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h4\",\n        component: \"h1\",\n        align: \"center\",\n        className: \"editHeading\",\n        children: \"Manage Profiles\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Table, {\n        className: classes.table,\n        children: [/*#__PURE__*/_jsxDEV(TableHead, {\n          children: /*#__PURE__*/_jsxDEV(TableRow, {\n            children: [/*#__PURE__*/_jsxDEV(CustomTableCell, {\n              children: \"User Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(CustomTableCell, {\n              className: \"emailCol\",\n              children: \"User Email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(CustomTableCell, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n          children: profiles.map(user => /*#__PURE__*/_jsxDEV(TableRow, {\n            hover: true,\n            children: [/*#__PURE__*/_jsxDEV(TableCell, {\n              component: \"th\",\n              scope: \"row\",\n              children: [user.firstname, \" \", user.lastname, user.isAdmin && /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \" (admin)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 231,\n                columnNumber: 36\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              className: \"emailCol\",\n              children: user.email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"right\",\n              children: [user.isAdmin && /*#__PURE__*/_jsxDEV(Tooltip, {\n                title: \"Remove Admin\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: /*#__PURE__*/_jsxDEV(IconButton, {\n                    disabled: user._id === auth.user.id,\n                    onClick: e => this.setAdmin(e, user._id, false),\n                    children: /*#__PURE__*/_jsxDEV(AddAdminIcon, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 242,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 238,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 237,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 236,\n                columnNumber: 21\n              }, this), !user.isAdmin && /*#__PURE__*/_jsxDEV(Tooltip, {\n                title: \"Make Admin\",\n                children: /*#__PURE__*/_jsxDEV(IconButton, {\n                  onClick: e => this.setAdmin(e, user._id, true),\n                  children: /*#__PURE__*/_jsxDEV(RemoveAdminIcon, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 252,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 249,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 248,\n                columnNumber: 21\n              }, this), user.disabled ? /*#__PURE__*/_jsxDEV(Tooltip, {\n                title: user.hasProfile ? \"Enable Profile\" : \"No Profile\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: /*#__PURE__*/_jsxDEV(IconButton, {\n                    disabled: !user.hasProfile,\n                    onClick: e => this.selectDisable(e, user._id, \"enable\"),\n                    children: /*#__PURE__*/_jsxDEV(DisabledIcon, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 267,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 261,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 260,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 257,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(Tooltip, {\n                title: user.hasProfile ? \"Disable Profile\" : \"No Profile\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: /*#__PURE__*/_jsxDEV(IconButton, {\n                    disabled: !user.hasProfile,\n                    onClick: e => this.selectDisable(e, user._id, \"disable\"),\n                    children: /*#__PURE__*/_jsxDEV(VisibleIcon, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 282,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 276,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 275,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 272,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n                title: user.isAdmin ? \"Cannot Delete Admin\" : \"Delete User Account\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: /*#__PURE__*/_jsxDEV(IconButton, {\n                    disabled: user.isAdmin,\n                    onClick: e => this.deleteUser(e, user._id),\n                    children: /*#__PURE__*/_jsxDEV(DeleteIcon, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 299,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 295,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 294,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 287,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 17\n            }, this)]\n          }, user._id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Snackbar, {\n        anchorOrigin: {\n          vertical: \"top\",\n          horizontal: \"right\"\n        },\n        open: this.state.adminToastOpen,\n        autoHideDuration: 4000,\n        onClose: this.handleAdminClose,\n        children: /*#__PURE__*/_jsxDEV(SnackbarContent, {\n          className: classes.success,\n          \"aria-describedby\": \"client-snackbar\",\n          message: /*#__PURE__*/_jsxDEV(\"span\", {\n            id: \"client-snackbar\",\n            className: classes.message,\n            children: [/*#__PURE__*/_jsxDEV(CheckCircleIcon, {\n              className: \"toastIcon\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 320,\n              columnNumber: 17\n            }, this), this.state.adminToastMsg]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 319,\n            columnNumber: 15\n          }, this),\n          action: [/*#__PURE__*/_jsxDEV(IconButton, {\n            \"aria-label\": \"Close\",\n            color: \"inherit\",\n            className: classes.close,\n            onClick: this.handleAdminClose,\n            children: /*#__PURE__*/_jsxDEV(CloseIcon, {\n              className: classes.icon\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 332,\n              columnNumber: 17\n            }, this)\n          }, \"close\", false, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 15\n          }, this)]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 315,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Snackbar, {\n        anchorOrigin: {\n          vertical: \"top\",\n          horizontal: \"right\"\n        },\n        open: this.state.enableToastOpen,\n        autoHideDuration: 4000,\n        onClose: this.handleEnableClose,\n        children: /*#__PURE__*/_jsxDEV(SnackbarContent, {\n          className: classes.success,\n          \"aria-describedby\": \"client-snackbar\",\n          message: /*#__PURE__*/_jsxDEV(\"span\", {\n            id: \"client-snackbar\",\n            className: classes.message,\n            children: [/*#__PURE__*/_jsxDEV(CheckCircleIcon, {\n              className: \"toastIcon\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 349,\n              columnNumber: 17\n            }, this), this.state.enableToastMsg]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 348,\n            columnNumber: 15\n          }, this),\n          action: [/*#__PURE__*/_jsxDEV(IconButton, {\n            \"aria-label\": \"Close\",\n            color: \"inherit\",\n            className: classes.close,\n            onClick: this.handleEnableClose,\n            children: /*#__PURE__*/_jsxDEV(CloseIcon, {\n              className: classes.icon\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 361,\n              columnNumber: 17\n            }, this)\n          }, \"close\", false, {\n            fileName: _jsxFileName,\n            lineNumber: 354,\n            columnNumber: 15\n          }, this)]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n        open: this.state.deleteDialogOpen,\n        onClose: this.handleDeleteClose,\n        \"aria-labelledby\": \"alert-dialog-title\",\n        \"aria-describedby\": \"alert-dialog-description\",\n        children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n          id: \"alert-dialog-title\",\n          children: \"Delete Account for \" + this.state.deleteName + \"?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 373,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n          children: /*#__PURE__*/_jsxDEV(DialogContentText, {\n            id: \"alert-dialog-description\",\n            children: \"Clicking Delete Account below will delete both their tutor profile and user account.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 377,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 376,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            onClick: this.handleDeleteClose,\n            className: \"textPurple\",\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 383,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: this.handleDeleteSuccessClose,\n            variant: \"outlined\",\n            className: \"purpleDelete\",\n            autoFocus: true,\n            children: \"Delete Account\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 386,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 382,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 367,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 7\n    }, this);\n  }\n}\nUsers.propTypes = {\n  getAllProfilesByAdmin: PropTypes.func.isRequired,\n  deleteAccountByAdmin: PropTypes.func.isRequired,\n  setAdmin: PropTypes.func.isRequired,\n  disableProfileByUser: PropTypes.func.isRequired,\n  enableProfileByUser: PropTypes.func.isRequired,\n  errors: PropTypes.object.isRequired\n};\nconst mapStateToProps = state => ({\n  profiles: state.profile.profiles,\n  auth: state.auth,\n  errors: state.errors\n});\nexport default connect(mapStateToProps, {\n  getAllProfilesByAdmin,\n  deleteAccountByAdmin,\n  setAdmin,\n  disableProfileByUser,\n  enableProfileByUser\n})(withRouter(withStyles(styles)(Users)));\nvar _c;\n$RefreshReg$(_c, \"CustomTableCell\");","map":{"version":3,"names":["React","Component","PropTypes","connect","withRouter","deleteAccountByAdmin","disableProfileByUser","enableProfileByUser","getAllProfilesByAdmin","setAdmin","Typography","Table","TableBody","TableCell","TableHead","IconButton","DeleteIcon","AddAdminIcon","RemoveAdminIcon","DisabledIcon","VisibleIcon","TableRow","Tooltip","Snackbar","SnackbarContent","CheckCircleIcon","CloseIcon","Button","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","withStyles","_","sortArrByAscending","removeByMatch","jsxDEV","_jsxDEV","CustomTableCell","theme","head","backgroundColor","color","fontWeight","_c","styles","success","message","display","alignItems","Users","constructor","arguments","state","profiles","profilesToDisable","adminToastOpen","adminToastMsg","enableToastOpen","enableToastMsg","deleteDialogOpen","deleteName","deleteUserId","errors","handleAdminClose","setState","handleEnableClose","handleDeleteOpen","handleDeleteClose","handleDeleteSuccessClose","newProfiles","filter","user","_id","id","props","deleteUser","e","userID","preventDefault","updatedUser","userName","firstname","lastname","value","isAdmin","msgType","msg","concat","data","selectDisable","userId","setting","disabled","componentDidMount","componentWillReceiveProps","nextProps","render","classes","auth","className","children","variant","component","align","fileName","_jsxFileName","lineNumber","columnNumber","table","map","hover","scope","email","title","onClick","hasProfile","anchorOrigin","vertical","horizontal","open","autoHideDuration","onClose","action","close","icon","autoFocus","propTypes","func","isRequired","object","mapStateToProps","profile","$RefreshReg$"],"sources":["C:/Users/jackie/OneDrive/文档/GitHub/ToroTutor1/client/src/components/admin/Users.js"],"sourcesContent":["import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nimport {\r\n  deleteAccountByAdmin,\r\n  disableProfileByUser,\r\n  enableProfileByUser,\r\n  getAllProfilesByAdmin,\r\n} from \"../../redux/actions/profileActions\";\r\nimport { setAdmin } from \"../../redux/actions/authActions\";\r\n\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport AddAdminIcon from \"@material-ui/icons/PersonAdd\";\r\nimport RemoveAdminIcon from \"@material-ui/icons/PersonAddDisabled\";\r\nimport DisabledIcon from \"@material-ui/icons/VisibilityOff\";\r\nimport VisibleIcon from \"@material-ui/icons/Visibility\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport Snackbar from \"@material-ui/core/Snackbar\";\r\nimport SnackbarContent from \"@material-ui/core/SnackbarContent\";\r\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport _ from \"lodash\";\r\nimport { sortArrByAscending, removeByMatch } from \"../../utils/lodashOps\";\r\n\r\nconst CustomTableCell = withStyles((theme) => ({\r\n  head: {\r\n    backgroundColor: \"#5E9CAE\",\r\n    color: \"#fff\",\r\n    fontWeight: \"bold\",\r\n  },\r\n}))(TableCell);\r\n\r\nconst styles = (theme) => ({\r\n  success: {\r\n    backgroundColor: \"#EEAF30\",\r\n  },\r\n  message: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n  },\r\n});\r\n\r\nclass Users extends Component {\r\n  state = {\r\n    profiles: [],\r\n    profilesToDisable: [],\r\n    adminToastOpen: false,\r\n    adminToastMsg: \"\",\r\n    enableToastOpen: false,\r\n    enableToastMsg: \"\",\r\n    deleteDialogOpen: false,\r\n    deleteName: \"\",\r\n    deleteUserId: \"\",\r\n    errors: {},\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.props.getAllProfilesByAdmin();\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    if (nextProps.errors) this.setState({ errors: nextProps.errors });\r\n    if (nextProps.profiles) {\r\n      this.setState({\r\n        profiles: sortArrByAscending(nextProps.profiles, [\r\n          \"firstname\",\r\n          \"lastname\",\r\n        ]),\r\n      });\r\n    }\r\n  }\r\n\r\n  handleAdminClose = () => {\r\n    this.setState({ adminToastOpen: false });\r\n  };\r\n\r\n  handleEnableClose = () => {\r\n    this.setState({ enableToastOpen: false });\r\n  };\r\n\r\n  handleDeleteOpen = () => {\r\n    this.setState({ deleteDialogOpen: true });\r\n  };\r\n\r\n  handleDeleteClose = () => {\r\n    this.setState({\r\n      deleteDialogOpen: false,\r\n      deleteName: \"\",\r\n      deleteUserId: \"\",\r\n    });\r\n  };\r\n\r\n  handleDeleteSuccessClose = () => {\r\n    this.setState({\r\n      deleteDialogOpen: false,\r\n      deleteName: \"\",\r\n      deleteUserId: \"\",\r\n    });\r\n\r\n    let profiles = [...this.state.profiles];\r\n    const newProfiles = profiles.filter((user) => {\r\n      return user._id !== this.state.deleteUserId;\r\n    });\r\n\r\n    this.setState({\r\n      profiles: [...newProfiles],\r\n    });\r\n\r\n    const id = {\r\n      user: this.state.deleteUserId,\r\n    };\r\n    this.props.deleteAccountByAdmin(id);\r\n  };\r\n\r\n  deleteUser = (e, userID) => {\r\n    e.preventDefault();\r\n    let profiles = [...this.state.profiles];\r\n    let updatedUser = removeByMatch(profiles, function(user) {\r\n      return user._id === userID;\r\n    });\r\n    let userName = updatedUser[0].firstname + \" \" + updatedUser[0].lastname;\r\n\r\n    this.setState(\r\n      {\r\n        deleteUserId: userID,\r\n        deleteName: userName,\r\n      },\r\n      () => this.handleDeleteOpen()\r\n    );\r\n  };\r\n\r\n  setAdmin = (e, userID, value) => {\r\n    // update the state with the new variable\r\n    let profiles = [...this.state.profiles];\r\n    let updatedUser = removeByMatch(profiles, function(user) {\r\n      return user._id === userID;\r\n    });\r\n    updatedUser[0].isAdmin = value;\r\n\r\n    let msgType = value ? \"added\" : \"removed\";\r\n    let msg = `Admin privileges ${msgType} for ${updatedUser[0].firstname} ${\r\n      updatedUser[0].lastname\r\n    }.`;\r\n\r\n    this.setState({\r\n      profiles: sortArrByAscending(_.concat(profiles, updatedUser), [\r\n        \"firstname\",\r\n        \"lastname\",\r\n      ]),\r\n      adminToastOpen: true,\r\n      adminToastMsg: msg,\r\n    });\r\n\r\n    // create object to send to backend\r\n    const data = {\r\n      id: userID,\r\n      isAdmin: value,\r\n    };\r\n    this.props.setAdmin(data);\r\n  };\r\n\r\n  selectDisable = (e, userId, setting) => {\r\n    e.preventDefault();\r\n    if (setting === \"enable\") this.props.enableProfileByUser(userId);\r\n    else if (setting === \"disable\") this.props.disableProfileByUser(userId);\r\n\r\n    let profiles = [...this.state.profiles];\r\n    let updatedUser = removeByMatch(profiles, function(user) {\r\n      return user._id === userId;\r\n    });\r\n    updatedUser[0].disabled = setting === \"enable\" ? false : true;\r\n\r\n    let msgType = setting === \"enable\" ? \"enabled\" : \"disabled\";\r\n    let msg = `${updatedUser[0].firstname} ${\r\n      updatedUser[0].lastname\r\n    }'s profile has been ${msgType}.`;\r\n\r\n    this.setState({\r\n      profiles: sortArrByAscending(_.concat(profiles, updatedUser), [\r\n        \"firstname\",\r\n        \"lastname\",\r\n      ]),\r\n      enableToastOpen: true,\r\n      enableToastMsg: msg,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { classes, auth } = this.props;\r\n    const { profiles } = this.state;\r\n\r\n    return (\r\n      <div className=\"padding20\">\r\n        <Typography\r\n          variant=\"h4\"\r\n          component=\"h1\"\r\n          align=\"center\"\r\n          className=\"editHeading\"\r\n        >\r\n          Manage Profiles\r\n        </Typography>\r\n        <Table className={classes.table}>\r\n          <TableHead>\r\n            <TableRow>\r\n              <CustomTableCell>User Name</CustomTableCell>\r\n              <CustomTableCell className=\"emailCol\">User Email</CustomTableCell>\r\n              <CustomTableCell />\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {profiles.map((user) => (\r\n              <TableRow key={user._id} hover={true}>\r\n                <TableCell component=\"th\" scope=\"row\">\r\n                  {user.firstname} {user.lastname}\r\n                  {user.isAdmin && <span> (admin)</span>}\r\n                </TableCell>\r\n                <TableCell className=\"emailCol\">{user.email}</TableCell>\r\n                <TableCell align=\"right\">\r\n                  {user.isAdmin && (\r\n                    <Tooltip title=\"Remove Admin\">\r\n                      <span>\r\n                        <IconButton\r\n                          disabled={user._id === auth.user.id}\r\n                          onClick={(e) => this.setAdmin(e, user._id, false)}\r\n                        >\r\n                          <AddAdminIcon />\r\n                        </IconButton>\r\n                      </span>\r\n                    </Tooltip>\r\n                  )}\r\n                  {!user.isAdmin && (\r\n                    <Tooltip title=\"Make Admin\">\r\n                      <IconButton\r\n                        onClick={(e) => this.setAdmin(e, user._id, true)}\r\n                      >\r\n                        <RemoveAdminIcon />\r\n                      </IconButton>\r\n                    </Tooltip>\r\n                  )}\r\n                  {user.disabled ? (\r\n                    <Tooltip\r\n                      title={user.hasProfile ? \"Enable Profile\" : \"No Profile\"}\r\n                    >\r\n                      <span>\r\n                        <IconButton\r\n                          disabled={!user.hasProfile}\r\n                          onClick={(e) =>\r\n                            this.selectDisable(e, user._id, \"enable\")\r\n                          }\r\n                        >\r\n                          <DisabledIcon />\r\n                        </IconButton>\r\n                      </span>\r\n                    </Tooltip>\r\n                  ) : (\r\n                    <Tooltip\r\n                      title={user.hasProfile ? \"Disable Profile\" : \"No Profile\"}\r\n                    >\r\n                      <span>\r\n                        <IconButton\r\n                          disabled={!user.hasProfile}\r\n                          onClick={(e) =>\r\n                            this.selectDisable(e, user._id, \"disable\")\r\n                          }\r\n                        >\r\n                          <VisibleIcon />\r\n                        </IconButton>\r\n                      </span>\r\n                    </Tooltip>\r\n                  )}\r\n                  <Tooltip\r\n                    title={\r\n                      user.isAdmin\r\n                        ? \"Cannot Delete Admin\"\r\n                        : \"Delete User Account\"\r\n                    }\r\n                  >\r\n                    <span>\r\n                      <IconButton\r\n                        disabled={user.isAdmin}\r\n                        onClick={(e) => this.deleteUser(e, user._id)}\r\n                      >\r\n                        <DeleteIcon />\r\n                      </IconButton>\r\n                    </span>\r\n                  </Tooltip>\r\n                </TableCell>\r\n              </TableRow>\r\n            ))}\r\n          </TableBody>\r\n        </Table>\r\n\r\n        <Snackbar\r\n          anchorOrigin={{ vertical: \"top\", horizontal: \"right\" }}\r\n          open={this.state.adminToastOpen}\r\n          autoHideDuration={4000}\r\n          onClose={this.handleAdminClose}\r\n        >\r\n          <SnackbarContent\r\n            className={classes.success}\r\n            aria-describedby=\"client-snackbar\"\r\n            message={\r\n              <span id=\"client-snackbar\" className={classes.message}>\r\n                <CheckCircleIcon className=\"toastIcon\" />\r\n                {this.state.adminToastMsg}\r\n              </span>\r\n            }\r\n            action={[\r\n              <IconButton\r\n                key=\"close\"\r\n                aria-label=\"Close\"\r\n                color=\"inherit\"\r\n                className={classes.close}\r\n                onClick={this.handleAdminClose}\r\n              >\r\n                <CloseIcon className={classes.icon} />\r\n              </IconButton>,\r\n            ]}\r\n          />\r\n        </Snackbar>\r\n\r\n        <Snackbar\r\n          anchorOrigin={{ vertical: \"top\", horizontal: \"right\" }}\r\n          open={this.state.enableToastOpen}\r\n          autoHideDuration={4000}\r\n          onClose={this.handleEnableClose}\r\n        >\r\n          <SnackbarContent\r\n            className={classes.success}\r\n            aria-describedby=\"client-snackbar\"\r\n            message={\r\n              <span id=\"client-snackbar\" className={classes.message}>\r\n                <CheckCircleIcon className=\"toastIcon\" />\r\n                {this.state.enableToastMsg}\r\n              </span>\r\n            }\r\n            action={[\r\n              <IconButton\r\n                key=\"close\"\r\n                aria-label=\"Close\"\r\n                color=\"inherit\"\r\n                className={classes.close}\r\n                onClick={this.handleEnableClose}\r\n              >\r\n                <CloseIcon className={classes.icon} />\r\n              </IconButton>,\r\n            ]}\r\n          />\r\n        </Snackbar>\r\n\r\n        <Dialog\r\n          open={this.state.deleteDialogOpen}\r\n          onClose={this.handleDeleteClose}\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle id=\"alert-dialog-title\">\r\n            {\"Delete Account for \" + this.state.deleteName + \"?\"}\r\n          </DialogTitle>\r\n          <DialogContent>\r\n            <DialogContentText id=\"alert-dialog-description\">\r\n              Clicking Delete Account below will delete both their tutor profile\r\n              and user account.\r\n            </DialogContentText>\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={this.handleDeleteClose} className=\"textPurple\">\r\n              Cancel\r\n            </Button>\r\n            <Button\r\n              onClick={this.handleDeleteSuccessClose}\r\n              variant=\"outlined\"\r\n              className=\"purpleDelete\"\r\n              autoFocus\r\n            >\r\n              Delete Account\r\n            </Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nUsers.propTypes = {\r\n  getAllProfilesByAdmin: PropTypes.func.isRequired,\r\n  deleteAccountByAdmin: PropTypes.func.isRequired,\r\n  setAdmin: PropTypes.func.isRequired,\r\n  disableProfileByUser: PropTypes.func.isRequired,\r\n  enableProfileByUser: PropTypes.func.isRequired,\r\n  errors: PropTypes.object.isRequired,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  profiles: state.profile.profiles,\r\n  auth: state.auth,\r\n  errors: state.errors,\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  {\r\n    getAllProfilesByAdmin,\r\n    deleteAccountByAdmin,\r\n    setAdmin,\r\n    disableProfileByUser,\r\n    enableProfileByUser,\r\n  }\r\n)(withRouter(withStyles(styles)(Users)));\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}