{"ast":null,"code":"import React,{Component}from\"react\";import _ from\"lodash\";// import components\nimport ProgressSpinner from\"../common/ProgressSpinner\";import ProfileItem from\"./ProfileItem\";import SearchIcon from\"@material-ui/icons/Search\";import Button from\"@material-ui/core/Button\";import Menu from\"@material-ui/core/Menu\";import InputAdornment from\"@material-ui/core/InputAdornment\";import MenuItem from\"@material-ui/core/MenuItem\";import Paper from\"@material-ui/core/Paper\";import Chip from\"@material-ui/core/Chip\";import Grid from\"@material-ui/core/Grid\";import Typography from\"@material-ui/core/Typography\";import WarningIcon from\"@material-ui/icons/Warning\";import SortIcon from\"@material-ui/icons/SortByAlpha\";import ShuffleIcon from\"@material-ui/icons/Shuffle\";import SubjectIcon from\"@material-ui/icons/LibraryBooks\";import PaidIcon from\"@material-ui/icons/AttachMoney\";// redux imports\nimport{connect}from\"react-redux\";import{getProfiles}from\"../../redux/actions/profileActions\";import{getSubjects}from\"../../redux/actions/subjectActions\";// MUI imports\nimport{withStyles}from\"@material-ui/core/styles\";import{Input}from\"@material-ui/core\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const styles={card:{minWidth:300},padding20:{padding:20},marginLeft20:{marginLeft:20}};class ProfilesShowcase extends Component{constructor(){super();//for randomizing profiles displayed\nthis.shuffle=event=>{this.setState({data:_.shuffle(this.state.data),shuffled:true});};this.closeOrderMenu=event=>{this.setState({orderDropDown:null});};this.closeFilterMenu=event=>{this.setState({filterDropDown:null});};this.closeMajorsMenu=event=>{this.setState({majorsDropDown:null});};this.handleFilterBy=event=>{this.setState({filterDropDown:event.currentTarget});};this.handleOrderBy=event=>{this.setState({orderDropDown:event.currentTarget});};this.handleMajorsMenu=event=>{this.setState({majorsDropDown:event.currentTarget});};this.handleCheck=name=>event=>{this.setState({[name]:event.target.checked});};this.handleChange=name=>event=>{this.setState({[name]:event.target.value});};// sort currently displayed profiles by name alphabetically\nthis.orderByName=event=>{let nameSorted=_.orderBy(this.state.data,\"user.firstname\",\"asc\");this.setState(state=>({data:nameSorted}));};// sort by Major alphabetically\nthis.orderByMajor=event=>{let majorSorted=_.orderBy(this.state.data,\"major[0]\",\"asc\");this.setState(state=>({data:majorSorted}));};//uses current value of search bar to find tutors based on name, major, or the courses they tutor\nthis.handleSearch=text=>event=>{this.setState({[text]:event.target.searchText,searchText:event.target.value});let search_text=event.target.value;let profileList=this.props.profile.profiles;if(this.state.filtering===true){profileList=this.state.data;}if(search_text.length>0){let searchList=[];//searchList will contain all the matching profiles from the search_text input\nfor(var prof in profileList){let profile=profileList[prof];let firstName=profile.user.firstname;//find matching course attributes\nlet courses=profile.courses;if(courses.length>0){for(var c in courses){let course=courses[c];//Course Number ex: 301, 303, ...\nif(course.courseNumber===search_text&&!searchList.includes(profile)){searchList.push(profile);}//Course ID ex: CS, HST, MTH...\nif(course.courseId.toLowerCase()===search_text.toLowerCase()&&!searchList.includes(profile)){searchList.push(profile);}//combo of the two above... ex: CS301 or CS 301\nif((search_text.toLowerCase()===(course.courseId+course.courseNumber).toLowerCase()||search_text.toLowerCase()===(course.courseId+\" \"+course.courseNumber).toLowerCase())&&!searchList.includes(profile)){searchList.push(profile);}// //By Name of Subject\nif(course.courseSubject){let courseSubjectsub=course.courseSubject.substring(0,search_text.length).toLowerCase();if(search_text.toLowerCase()===courseSubjectsub&&!searchList.includes(profile)){searchList.push(profile);}}//by full name of course\nlet courseName=course.courseName;let courseNameSub=courseName.substring(0,search_text.length).toLowerCase();if(courseNameSub===search_text.toLowerCase()&&!searchList.includes(profile)){searchList.push(profile);}}}//compare first name to search text, add to list if similar\nif(firstName.length>=search_text.length){let userName=firstName.substring(0,search_text.length).toLowerCase();if(userName.includes(search_text.toLowerCase())&&!searchList.includes(profile)){searchList.push(profile);}}// by major\nlet majors=profile.major;for(var m in majors){let major=majors[m];if(major.length>=search_text.length){let majorSub=major.substring(0,search_text.length).toLowerCase();if(search_text.toLowerCase()===majorSub&&!searchList.includes(profile)){searchList.push(profile);}}}//by minor\nlet minors=profile.minor;for(var mi in minors){let minor=minors[mi];if(minor.length>=search_text.length){let minorSub=minor.substring(0,search_text.length).toLowerCase();if(search_text.toLowerCase()===minorSub&&!searchList.includes(profile)){searchList.push(profile);}}}}// set search data to search list, then check other filters\nif(searchList.length>0){this.setState(state=>({searchData:searchList,searchNotFound:false,searching:true}),()=>this.runAllFilters());}else{this.setState({searchNotFound:true});}}else{// if there is no text in search bar, just check other filters\nthis.setState(state=>({searching:false}),()=>this.runAllFilters());}};//Returns results from profiles relating to chosen subject\nthis.filterBySubject=(subject,event)=>{let subjectFilterList=this.state.subjectFilters;subjectFilterList.push(subject);this.setState({subjectFilters:subjectFilterList,filtering:true},()=>this.runAllFilters());};this.filterByPaid=paid=>event=>{this.setState({filterByPaid:true,filterByVolunteer:false},()=>this.runAllFilters());};this.filterByVolunteer=paid=>event=>{this.setState({filterByVolunteer:true,filterByPaid:false},()=>this.runAllFilters());};this.removePaidFilter=paid=>event=>{this.setState({filterByPaid:false},()=>this.runAllFilters());};this.removeVolunteerFilter=paid=>event=>{this.setState({filterByVolunteer:false},()=>this.runAllFilters());};this.removeSubject=(subject,event)=>{_.pull(this.state.subjectFilters,subject);this.setState({subjectFilters:this.state.subjectFilters,searchNotFound:false},()=>this.runAllFilters());};this.saveFilters=()=>{const{subjectFilters,searchText,searchData,filterByPaid,filterByVolunteer}=this.state;sessionStorage.setItem(\"subjectFilters\",JSON.stringify(subjectFilters));sessionStorage.setItem(\"searchText\",JSON.stringify(searchText));sessionStorage.setItem(\"filterByPaid\",JSON.stringify(filterByPaid));sessionStorage.setItem(\"filterByVolunteer\",JSON.stringify(filterByVolunteer));sessionStorage.setItem(\"searchData\",JSON.stringify(searchData));};this.state={data:[],// this is the current list of profiles\nallProfiles:[],// this is the full list of profiles\nsearching:false,// whether or not we are searching\nsearchData:[],// results from searching through all profiles\nfilterByPaid:false,// whether or not we are filtering by paid\nfilterByVolunteer:false,// whether or not we are filtering by volunteer\nfiltering:false,// whether or not we are filtering\nsearchText:\"\",// the text typed in the search bar\norderDropDown:null,// order by dropdown\nfilterDropDown:null,// paid or volunteer dropdown\nmajorsDropDown:null,// majors dropdown\nsubjects:[],// all subjects\nsubjectFilters:[],// currentl list of selected subjects\nsearchNotFound:false,shuffled:false// whether or not we are shuffling\n};}//Functions then render\ncomponentDidMount(){this.props.getSubjects();this.props.getProfiles();if(sessionStorage.length>0){this.setState({subjectFilters:JSON.parse(sessionStorage.getItem(\"subjectFilters\")),searchData:JSON.parse(sessionStorage.getItem(\"searchData\")),searchText:sessionStorage.getItem(\"searchText\")===\"\\\"\\\"\"?\"\":sessionStorage.getItem(\"searchText\").replace(/[\"\"]+/g,\"\"),filterByPaid:sessionStorage.getItem(\"filterByPaid\")==\"true\",filterByVolunteer:sessionStorage.getItem(\"filterByVolunteer\")==\"true\"},()=>this.runAllFilters());}}componentWillReceiveProps(nextProps){if(nextProps.errors)this.setState({errors:nextProps.errors});if(nextProps.subjects.subjects){this.setState({subjects:_.sortBy(_.map(nextProps.subjects.subjects,\"name\"))});}if(nextProps.profile.profiles){this.setState({allProfiles:nextProps.profile.profiles});}if(sessionStorage.length<1){this.setState({data:nextProps.profile.profiles});}}runAllFilters(){const{searchText,searchData,allProfiles,filterByPaid,filterByVolunteer,subjectFilters}=this.state;// use the search data to start if there is search text, if not use the full list\nlet profiles=searchText.length>0?searchData:allProfiles;// check for paid and volunteer\nif(filterByPaid){profiles=_.filter(profiles,{type:\"Paid\"});}if(filterByVolunteer){profiles=_.filter(profiles,{type:\"Volunteer\"});}// check subjects\nlet subjectFilterList=subjectFilters;if(subjectFilterList.length>0){let results=[];//this loop matches profiles to given subjects\nfor(let prof in profiles){let profile=profiles[prof];let majors=profile.major;let minors=profile.minor;let courses=profile.courses;for(let e in subjectFilterList){let eachSubject=subjectFilterList[e];for(let m in majors){//add profiles by major\nlet major=majors[m];if(eachSubject===major&&!results.includes(profile)){results.push(profile);}}for(var mi in minors){//add by minor\nlet minor=minors[mi];if(eachSubject===minor&&!results.includes(profile)){results.push(profile);}}for(var c in courses){//add by course subject\nlet courseSubject=courses[c].courseSubject;if(eachSubject===courseSubject&&!results.includes(profile)){results.push(profile);}}}}if(results.length<1){this.setState({searchNotFound:true});}else{this.setState({searchNotFound:false});}this.setState({data:results});profiles=results;}this.setState({data:profiles});}render(){const{profiles,loading}=this.props.profile;const{orderDropDown,filterDropDown,majorsDropDown,subjects,data,searchNotFound}=this.state;let courseMenuItems=subjects.map((subject,i)=>/*#__PURE__*/_jsx(MenuItem,{value:subject,disabled:_.includes(this.state.subjectFilters,subject),onClick:e=>this.filterBySubject(subject),children:subject},i));let subjectChips=this.state.subjectFilters.map((subject,index)=>/*#__PURE__*/_jsx(Chip,{className:\"search-chip\",variant:\"outlined\",label:subject,onDelete:e=>this.removeSubject(subject)},index));let profileItems;const profileContent=data!==null&&!searchNotFound?data.map(profile=>/*#__PURE__*/_jsx(ProfileItem,{profile:profile,onClick:this.saveFilters},profile._id)):/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsxs(\"div\",{className:\"padding20\",children:[/*#__PURE__*/_jsxs(Typography,{align:\"center\",className:\"colorBlue\",children:[/*#__PURE__*/_jsx(WarningIcon,{id:\"warning\"}),\" \"]}),/*#__PURE__*/_jsx(Typography,{variant:\"h4\",align:\"center\",gutterBottom:true,children:\"No profiles found.\"}),/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",align:\"center\",children:\"Try adjusting your search.\"})]})});if(profiles===null||loading){profileItems=/*#__PURE__*/_jsx(ProgressSpinner,{});}else{//if text in search bar, display search results\nprofileItems=/*#__PURE__*/_jsx(Grid,{container:true,spacing:24,children:profileContent});}return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(\"header\",{children:/*#__PURE__*/_jsxs(Paper,{className:\"paddingMargin\",children:[/*#__PURE__*/_jsxs(Grid,{container:true,spacing:24,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(Input,{id:\"search\",placeholder:\"Name, Major, or Course\",value:this.state.searchText,onChange:this.handleSearch(\"searchText\"),startAdornment:/*#__PURE__*/_jsx(InputAdornment,{position:\"start\",children:/*#__PURE__*/_jsx(SearchIcon,{})}),fullWidth:true})}),/*#__PURE__*/_jsxs(Grid,{item:true,xs:3,children:[/*#__PURE__*/_jsxs(Button,{variant:\"outlined\",\"aria-haspopup\":\"true\",onClick:this.handleMajorsMenu,\"aria-owns\":majorsDropDown?\"majorsMenu\":undefined,fullWidth:true,children:[/*#__PURE__*/_jsx(\"div\",{className:\"large\",children:\"Subjects\"}),/*#__PURE__*/_jsx(\"div\",{className:\"small\",children:/*#__PURE__*/_jsx(SubjectIcon,{})})]}),/*#__PURE__*/_jsx(Menu,{id:\"majorsMenu\",anchorEl:majorsDropDown,open:Boolean(majorsDropDown),onClose:this.closeMajorsMenu,PaperProps:{style:{maxHeight:300}},children:courseMenuItems})]}),/*#__PURE__*/_jsxs(Grid,{item:true,xs:3,children:[/*#__PURE__*/_jsxs(Button,{variant:\"outlined\",\"aria-haspopup\":\"true\",onClick:this.handleFilterBy,\"aria-owns\":filterDropDown?\"filterByMenu\":undefined,fullWidth:true,children:[/*#__PURE__*/_jsx(\"div\",{className:\"large\",children:\"Paid or Volunteer\"}),/*#__PURE__*/_jsx(\"div\",{className:\"small\",children:/*#__PURE__*/_jsx(PaidIcon,{})})]}),/*#__PURE__*/_jsxs(Menu,{id:\"filterByMenu\",anchorEl:filterDropDown,open:Boolean(filterDropDown),onClose:this.closeFilterMenu,children:[/*#__PURE__*/_jsxs(MenuItem,{value:\"Paid\",onClick:this.filterByPaid(),variant:\"outlined\",name:\"Paid\",children:[\" \",\"Paid\"]}),/*#__PURE__*/_jsxs(MenuItem,{value:\"Volunteer\",onClick:this.filterByVolunteer(),variant:\"outlined\",name:\"Volunteer\",children:[\" \",\"Volunteer\"]})]})]}),/*#__PURE__*/_jsxs(Grid,{item:true,xs:3,children:[/*#__PURE__*/_jsxs(Button,{variant:\"outlined\",\"aria-haspopup\":\"true\",onClick:this.handleOrderBy,\"aria-owns\":orderDropDown?\"orderByMenu\":undefined,fullWidth:true,children:[/*#__PURE__*/_jsx(\"div\",{className:\"large\",children:\"Order by\"}),/*#__PURE__*/_jsx(\"div\",{className:\"small\",children:/*#__PURE__*/_jsx(SortIcon,{})})]}),/*#__PURE__*/_jsxs(Menu,{id:\"orderByMenu\",anchorEl:orderDropDown,open:Boolean(orderDropDown),onClose:this.closeOrderMenu,children:[/*#__PURE__*/_jsx(MenuItem,{onClick:this.orderByName,children:\" First Name\"}),/*#__PURE__*/_jsx(MenuItem,{onClick:this.orderByMajor,children:\" Major\"})]})]}),/*#__PURE__*/_jsx(Grid,{item:true,xs:3,children:/*#__PURE__*/_jsxs(Button,{variant:\"outlined\",onClick:this.shuffle,fullWidth:true,children:[/*#__PURE__*/_jsx(\"div\",{className:\"large\",children:\"Shuffle\"}),/*#__PURE__*/_jsx(\"div\",{className:\"small\",children:/*#__PURE__*/_jsx(ShuffleIcon,{})})]})})]}),/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,children:[this.state.filterByVolunteer&&/*#__PURE__*/_jsx(Chip,{className:\"search-chip\",variant:\"outlined\",label:\"Volunteer\",onDelete:this.removeVolunteerFilter()}),this.state.filterByPaid&&/*#__PURE__*/_jsx(Chip,{className:\"search-chip\",variant:\"outlined\",label:\"Paid\",onDelete:this.removePaidFilter()}),subjectChips]})]})}),/*#__PURE__*/_jsx(\"div\",{children:profileItems})]});}}const mapStateToProps=state=>({profile:state.profile,subjects:state.subjects});export default connect(mapStateToProps,{getProfiles,getSubjects})(withStyles(styles)(ProfilesShowcase));","map":{"version":3,"names":["React","Component","_","ProgressSpinner","ProfileItem","SearchIcon","Button","Menu","InputAdornment","MenuItem","Paper","Chip","Grid","Typography","WarningIcon","SortIcon","ShuffleIcon","SubjectIcon","PaidIcon","connect","getProfiles","getSubjects","withStyles","Input","jsx","_jsx","jsxs","_jsxs","styles","card","minWidth","padding20","padding","marginLeft20","marginLeft","ProfilesShowcase","constructor","shuffle","event","setState","data","state","shuffled","closeOrderMenu","orderDropDown","closeFilterMenu","filterDropDown","closeMajorsMenu","majorsDropDown","handleFilterBy","currentTarget","handleOrderBy","handleMajorsMenu","handleCheck","name","target","checked","handleChange","value","orderByName","nameSorted","orderBy","orderByMajor","majorSorted","handleSearch","text","searchText","search_text","profileList","props","profile","profiles","filtering","length","searchList","prof","firstName","user","firstname","courses","c","course","courseNumber","includes","push","courseId","toLowerCase","courseSubject","courseSubjectsub","substring","courseName","courseNameSub","userName","majors","major","m","majorSub","minors","minor","mi","minorSub","searchData","searchNotFound","searching","runAllFilters","filterBySubject","subject","subjectFilterList","subjectFilters","filterByPaid","paid","filterByVolunteer","removePaidFilter","removeVolunteerFilter","removeSubject","pull","saveFilters","sessionStorage","setItem","JSON","stringify","allProfiles","subjects","componentDidMount","parse","getItem","replace","componentWillReceiveProps","nextProps","errors","sortBy","map","filter","type","results","e","eachSubject","render","loading","courseMenuItems","i","disabled","onClick","children","subjectChips","index","className","variant","label","onDelete","profileItems","profileContent","_id","item","xs","align","id","gutterBottom","container","spacing","Fragment","placeholder","onChange","startAdornment","position","fullWidth","undefined","anchorEl","open","Boolean","onClose","PaperProps","style","maxHeight","mapStateToProps"],"sources":["C:/Users/jackie/OneDrive/文档/GitHub/TutorUP-App/client/src/components/showcase/ProfileShowcase.js"],"sourcesContent":["import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport _ from \"lodash\";\r\n\r\n// import components\r\nimport ProgressSpinner from \"../common/ProgressSpinner\";\r\nimport ProfileItem from \"./ProfileItem\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Menu from \"@material-ui/core/Menu\";\r\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Chip from \"@material-ui/core/Chip\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport WarningIcon from \"@material-ui/icons/Warning\";\r\nimport SortIcon from \"@material-ui/icons/SortByAlpha\";\r\nimport ShuffleIcon from \"@material-ui/icons/Shuffle\";\r\nimport SubjectIcon from \"@material-ui/icons/LibraryBooks\";\r\nimport PaidIcon from \"@material-ui/icons/AttachMoney\";\r\n\r\n// redux imports\r\nimport { connect } from \"react-redux\";\r\nimport { getProfiles } from \"../../redux/actions/profileActions\";\r\nimport { getSubjects } from \"../../redux/actions/subjectActions\";\r\n\r\n// MUI imports\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport { Input } from \"@material-ui/core\";\r\n\r\nconst styles = {\r\n  card: {\r\n    minWidth: 300,\r\n  },\r\n  padding20: {\r\n    padding: 20,\r\n  },\r\n  marginLeft20: {\r\n    marginLeft: 20,\r\n  },\r\n};\r\n\r\nclass ProfilesShowcase extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      data: [], // this is the current list of profiles\r\n      allProfiles: [], // this is the full list of profiles\r\n      searching: false, // whether or not we are searching\r\n      searchData: [], // results from searching through all profiles\r\n      filterByPaid: false, // whether or not we are filtering by paid\r\n      filterByVolunteer: false, // whether or not we are filtering by volunteer\r\n      filtering: false, // whether or not we are filtering\r\n      searchText: \"\", // the text typed in the search bar\r\n      orderDropDown: null, // order by dropdown\r\n      filterDropDown: null, // paid or volunteer dropdown\r\n      majorsDropDown: null, // majors dropdown\r\n      subjects: [], // all subjects\r\n      subjectFilters: [], // currentl list of selected subjects\r\n      searchNotFound: false,\r\n      shuffled: false, // whether or not we are shuffling\r\n    };\r\n  }\r\n\r\n  //Functions then render\r\n  componentDidMount() {\r\n    this.props.getSubjects();\r\n    this.props.getProfiles();\r\n\r\n    if (sessionStorage.length > 0) {\r\n      this.setState(\r\n        {\r\n          subjectFilters: JSON.parse(sessionStorage.getItem(\"subjectFilters\")),\r\n          searchData: JSON.parse(sessionStorage.getItem(\"searchData\")),\r\n          searchText:\r\n            sessionStorage.getItem(\"searchText\") === `\"\"`\r\n              ? \"\"\r\n              : sessionStorage.getItem(\"searchText\").replace(/[\"\"]+/g, \"\"),\r\n          filterByPaid: sessionStorage.getItem(\"filterByPaid\") == \"true\",\r\n          filterByVolunteer:\r\n            sessionStorage.getItem(\"filterByVolunteer\") == \"true\",\r\n        },\r\n        () => this.runAllFilters()\r\n      );\r\n    }\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    if (nextProps.errors) this.setState({ errors: nextProps.errors });\r\n    if (nextProps.subjects.subjects) {\r\n      this.setState({\r\n        subjects: _.sortBy(_.map(nextProps.subjects.subjects, \"name\")),\r\n      });\r\n    }\r\n    if (nextProps.profile.profiles) {\r\n      this.setState({\r\n        allProfiles: nextProps.profile.profiles,\r\n      });\r\n    }\r\n    if (sessionStorage.length < 1) {\r\n      this.setState({ data: nextProps.profile.profiles });\r\n    }\r\n  }\r\n\r\n  //for randomizing profiles displayed\r\n  shuffle = (event) => {\r\n    this.setState({\r\n      data: _.shuffle(this.state.data),\r\n      shuffled: true,\r\n    });\r\n  };\r\n\r\n  closeOrderMenu = (event) => {\r\n    this.setState({\r\n      orderDropDown: null,\r\n    });\r\n  };\r\n\r\n  closeFilterMenu = (event) => {\r\n    this.setState({\r\n      filterDropDown: null,\r\n    });\r\n  };\r\n\r\n  closeMajorsMenu = (event) => {\r\n    this.setState({\r\n      majorsDropDown: null,\r\n    });\r\n  };\r\n\r\n  handleFilterBy = (event) => {\r\n    this.setState({\r\n      filterDropDown: event.currentTarget,\r\n    });\r\n  };\r\n\r\n  handleOrderBy = (event) => {\r\n    this.setState({\r\n      orderDropDown: event.currentTarget,\r\n    });\r\n  };\r\n\r\n  handleMajorsMenu = (event) => {\r\n    this.setState({\r\n      majorsDropDown: event.currentTarget,\r\n    });\r\n  };\r\n\r\n  handleCheck = (name) => (event) => {\r\n    this.setState({\r\n      [name]: event.target.checked,\r\n    });\r\n  };\r\n\r\n  handleChange = (name) => (event) => {\r\n    this.setState({\r\n      [name]: event.target.value,\r\n    });\r\n  };\r\n\r\n  // sort currently displayed profiles by name alphabetically\r\n  orderByName = (event) => {\r\n    let nameSorted = _.orderBy(this.state.data, \"user.firstname\", \"asc\");\r\n\r\n    this.setState((state) => ({\r\n      data: nameSorted,\r\n    }));\r\n  };\r\n\r\n  // sort by Major alphabetically\r\n  orderByMajor = (event) => {\r\n    let majorSorted = _.orderBy(this.state.data, \"major[0]\", \"asc\");\r\n\r\n    this.setState((state) => ({\r\n      data: majorSorted,\r\n    }));\r\n  };\r\n\r\n  //uses current value of search bar to find tutors based on name, major, or the courses they tutor\r\n  handleSearch = (text) => (event) => {\r\n    this.setState({\r\n      [text]: event.target.searchText,\r\n      searchText: event.target.value,\r\n    });\r\n\r\n    let search_text = event.target.value;\r\n    let profileList = this.props.profile.profiles;\r\n    if (this.state.filtering === true) {\r\n      profileList = this.state.data;\r\n    }\r\n\r\n    if (search_text.length > 0) {\r\n      let searchList = []; //searchList will contain all the matching profiles from the search_text input\r\n      for (var prof in profileList) {\r\n        let profile = profileList[prof];\r\n        let firstName = profile.user.firstname;\r\n        //find matching course attributes\r\n        let courses = profile.courses;\r\n        if (courses.length > 0) {\r\n          for (var c in courses) {\r\n            let course = courses[c];\r\n            //Course Number ex: 301, 303, ...\r\n            if (\r\n              course.courseNumber === search_text &&\r\n              !searchList.includes(profile)\r\n            ) {\r\n              searchList.push(profile);\r\n            }\r\n            //Course ID ex: CS, HST, MTH...\r\n            if (\r\n              course.courseId.toLowerCase() === search_text.toLowerCase() &&\r\n              !searchList.includes(profile)\r\n            ) {\r\n              searchList.push(profile);\r\n            }\r\n            //combo of the two above... ex: CS301 or CS 301\r\n            if (\r\n              (search_text.toLowerCase() ===\r\n                (course.courseId + course.courseNumber).toLowerCase() ||\r\n                search_text.toLowerCase() ===\r\n                  (\r\n                    course.courseId +\r\n                    \" \" +\r\n                    course.courseNumber\r\n                  ).toLowerCase()) &&\r\n              !searchList.includes(profile)\r\n            ) {\r\n              searchList.push(profile);\r\n            }\r\n\r\n            // //By Name of Subject\r\n            if (course.courseSubject) {\r\n              let courseSubjectsub = course.courseSubject\r\n                .substring(0, search_text.length)\r\n                .toLowerCase();\r\n              if (\r\n                search_text.toLowerCase() === courseSubjectsub &&\r\n                !searchList.includes(profile)\r\n              ) {\r\n                searchList.push(profile);\r\n              }\r\n            }\r\n            //by full name of course\r\n            let courseName = course.courseName;\r\n            let courseNameSub = courseName\r\n              .substring(0, search_text.length)\r\n              .toLowerCase();\r\n            if (\r\n              courseNameSub === search_text.toLowerCase() &&\r\n              !searchList.includes(profile)\r\n            ) {\r\n              searchList.push(profile);\r\n            }\r\n          }\r\n        }\r\n        //compare first name to search text, add to list if similar\r\n        if (firstName.length >= search_text.length) {\r\n          let userName = firstName\r\n            .substring(0, search_text.length)\r\n            .toLowerCase();\r\n          if (\r\n            userName.includes(search_text.toLowerCase()) &&\r\n            !searchList.includes(profile)\r\n          ) {\r\n            searchList.push(profile);\r\n          }\r\n        }\r\n        // by major\r\n        let majors = profile.major;\r\n        for (var m in majors) {\r\n          let major = majors[m];\r\n          if (major.length >= search_text.length) {\r\n            let majorSub = major.substring(0, search_text.length).toLowerCase();\r\n            if (\r\n              search_text.toLowerCase() === majorSub &&\r\n              !searchList.includes(profile)\r\n            ) {\r\n              searchList.push(profile);\r\n            }\r\n          }\r\n        }\r\n        //by minor\r\n        let minors = profile.minor;\r\n        for (var mi in minors) {\r\n          let minor = minors[mi];\r\n          if (minor.length >= search_text.length) {\r\n            let minorSub = minor.substring(0, search_text.length).toLowerCase();\r\n            if (\r\n              search_text.toLowerCase() === minorSub &&\r\n              !searchList.includes(profile)\r\n            ) {\r\n              searchList.push(profile);\r\n            }\r\n          }\r\n        }\r\n      }\r\n      // set search data to search list, then check other filters\r\n      if (searchList.length > 0) {\r\n        this.setState(\r\n          (state) => ({\r\n            searchData: searchList,\r\n            searchNotFound: false,\r\n            searching: true,\r\n          }),\r\n          () => this.runAllFilters()\r\n        );\r\n      } else {\r\n        this.setState({\r\n          searchNotFound: true,\r\n        });\r\n      }\r\n    } else {\r\n      // if there is no text in search bar, just check other filters\r\n      this.setState(\r\n        (state) => ({\r\n          searching: false,\r\n        }),\r\n        () => this.runAllFilters()\r\n      );\r\n    }\r\n  };\r\n\r\n  //Returns results from profiles relating to chosen subject\r\n  filterBySubject = (subject, event) => {\r\n    let subjectFilterList = this.state.subjectFilters;\r\n    subjectFilterList.push(subject);\r\n\r\n    this.setState(\r\n      {\r\n        subjectFilters: subjectFilterList,\r\n        filtering: true,\r\n      },\r\n      () => this.runAllFilters()\r\n    );\r\n  };\r\n\r\n  filterByPaid = (paid) => (event) => {\r\n    this.setState(\r\n      {\r\n        filterByPaid: true,\r\n        filterByVolunteer: false,\r\n      },\r\n      () => this.runAllFilters()\r\n    );\r\n  };\r\n\r\n  filterByVolunteer = (paid) => (event) => {\r\n    this.setState(\r\n      {\r\n        filterByVolunteer: true,\r\n        filterByPaid: false,\r\n      },\r\n      () => this.runAllFilters()\r\n    );\r\n  };\r\n\r\n  removePaidFilter = (paid) => (event) => {\r\n    this.setState({ filterByPaid: false }, () => this.runAllFilters());\r\n  };\r\n\r\n  removeVolunteerFilter = (paid) => (event) => {\r\n    this.setState({ filterByVolunteer: false }, () => this.runAllFilters());\r\n  };\r\n\r\n  removeSubject = (subject, event) => {\r\n    _.pull(this.state.subjectFilters, subject);\r\n    this.setState(\r\n      {\r\n        subjectFilters: this.state.subjectFilters,\r\n        searchNotFound: false,\r\n      },\r\n      () => this.runAllFilters()\r\n    );\r\n  };\r\n\r\n  runAllFilters() {\r\n    const {\r\n      searchText,\r\n      searchData,\r\n      allProfiles,\r\n      filterByPaid,\r\n      filterByVolunteer,\r\n      subjectFilters,\r\n    } = this.state;\r\n    // use the search data to start if there is search text, if not use the full list\r\n    let profiles = searchText.length > 0 ? searchData : allProfiles;\r\n\r\n    // check for paid and volunteer\r\n    if (filterByPaid) {\r\n      profiles = _.filter(profiles, { type: \"Paid\" });\r\n    }\r\n\r\n    if (filterByVolunteer) {\r\n      profiles = _.filter(profiles, { type: \"Volunteer\" });\r\n    }\r\n\r\n    // check subjects\r\n    let subjectFilterList = subjectFilters;\r\n    if (subjectFilterList.length > 0) {\r\n      let results = [];\r\n\r\n      //this loop matches profiles to given subjects\r\n      for (let prof in profiles) {\r\n        let profile = profiles[prof];\r\n        let majors = profile.major;\r\n        let minors = profile.minor;\r\n        let courses = profile.courses;\r\n\r\n        for (let e in subjectFilterList) {\r\n          let eachSubject = subjectFilterList[e];\r\n          for (let m in majors) {\r\n            //add profiles by major\r\n            let major = majors[m];\r\n            if (eachSubject === major && !results.includes(profile)) {\r\n              results.push(profile);\r\n            }\r\n          }\r\n          for (var mi in minors) {\r\n            //add by minor\r\n            let minor = minors[mi];\r\n            if (eachSubject === minor && !results.includes(profile)) {\r\n              results.push(profile);\r\n            }\r\n          }\r\n          for (var c in courses) {\r\n            //add by course subject\r\n            let courseSubject = courses[c].courseSubject;\r\n            if (eachSubject === courseSubject && !results.includes(profile)) {\r\n              results.push(profile);\r\n            }\r\n          }\r\n        }\r\n      }\r\n      if (results.length < 1) {\r\n        this.setState({ searchNotFound: true });\r\n      } else {\r\n        this.setState({ searchNotFound: false });\r\n      }\r\n      this.setState({ data: results });\r\n      profiles = results;\r\n    }\r\n\r\n    this.setState({ data: profiles });\r\n  }\r\n\r\n  saveFilters = () => {\r\n    const {\r\n      subjectFilters,\r\n      searchText,\r\n      searchData,\r\n      filterByPaid,\r\n      filterByVolunteer,\r\n    } = this.state;\r\n    sessionStorage.setItem(\"subjectFilters\", JSON.stringify(subjectFilters));\r\n    sessionStorage.setItem(\"searchText\", JSON.stringify(searchText));\r\n    sessionStorage.setItem(\"filterByPaid\", JSON.stringify(filterByPaid));\r\n    sessionStorage.setItem(\r\n      \"filterByVolunteer\",\r\n      JSON.stringify(filterByVolunteer)\r\n    );\r\n    sessionStorage.setItem(\"searchData\", JSON.stringify(searchData));\r\n  };\r\n\r\n  render() {\r\n    const { profiles, loading } = this.props.profile;\r\n    const {\r\n      orderDropDown,\r\n      filterDropDown,\r\n      majorsDropDown,\r\n      subjects,\r\n      data,\r\n      searchNotFound,\r\n    } = this.state;\r\n\r\n    let courseMenuItems = subjects.map((subject, i) => (\r\n      <MenuItem\r\n        key={i}\r\n        value={subject}\r\n        disabled={_.includes(this.state.subjectFilters, subject)}\r\n        onClick={(e) => this.filterBySubject(subject)}\r\n      >\r\n        {subject}\r\n      </MenuItem>\r\n    ));\r\n\r\n    let subjectChips = this.state.subjectFilters.map((subject, index) => (\r\n      <Chip\r\n        className=\"search-chip\"\r\n        variant=\"outlined\"\r\n        key={index}\r\n        label={subject}\r\n        onDelete={(e) => this.removeSubject(subject)}\r\n      />\r\n    ));\r\n\r\n    let profileItems;\r\n\r\n    const profileContent =\r\n      data !== null && !searchNotFound ? (\r\n        data.map((profile) => (\r\n          <ProfileItem\r\n            key={profile._id}\r\n            profile={profile}\r\n            onClick={this.saveFilters}\r\n          />\r\n        ))\r\n      ) : (\r\n        <Grid item xs={12}>\r\n          <div className=\"padding20\">\r\n            <Typography align=\"center\" className=\"colorBlue\">\r\n              <WarningIcon id=\"warning\" />{\" \"}\r\n            </Typography>\r\n            <Typography variant=\"h4\" align=\"center\" gutterBottom>\r\n              No profiles found.\r\n            </Typography>\r\n            <Typography variant=\"subtitle1\" align=\"center\">\r\n              Try adjusting your search.\r\n            </Typography>\r\n          </div>\r\n        </Grid>\r\n      );\r\n\r\n    if (profiles === null || loading) {\r\n      profileItems = <ProgressSpinner />;\r\n    } else {\r\n      //if text in search bar, display search results\r\n      profileItems = (\r\n        <Grid container spacing={24}>\r\n          {profileContent}\r\n        </Grid>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <React.Fragment>\r\n        <header>\r\n          <Paper className=\"paddingMargin\">\r\n            <Grid container spacing={24}>\r\n              <Grid item xs={12}>\r\n                <Input\r\n                  id=\"search\"\r\n                  placeholder=\"Name, Major, or Course\"\r\n                  value={this.state.searchText}\r\n                  onChange={this.handleSearch(\"searchText\")}\r\n                  startAdornment={\r\n                    <InputAdornment position=\"start\">\r\n                      <SearchIcon />\r\n                    </InputAdornment>\r\n                  }\r\n                  fullWidth\r\n                />\r\n              </Grid>\r\n              <Grid item xs={3}>\r\n                <Button\r\n                  variant=\"outlined\"\r\n                  aria-haspopup=\"true\"\r\n                  onClick={this.handleMajorsMenu}\r\n                  aria-owns={majorsDropDown ? \"majorsMenu\" : undefined}\r\n                  fullWidth\r\n                >\r\n                  <div className=\"large\">Subjects</div>\r\n                  <div className=\"small\">\r\n                    <SubjectIcon />\r\n                  </div>\r\n                </Button>\r\n                <Menu\r\n                  id=\"majorsMenu\"\r\n                  anchorEl={majorsDropDown}\r\n                  open={Boolean(majorsDropDown)}\r\n                  onClose={this.closeMajorsMenu}\r\n                  PaperProps={{ style: { maxHeight: 300 } }}\r\n                >\r\n                  {courseMenuItems}\r\n                </Menu>\r\n              </Grid>\r\n              <Grid item xs={3}>\r\n                <Button\r\n                  variant=\"outlined\"\r\n                  aria-haspopup=\"true\"\r\n                  onClick={this.handleFilterBy}\r\n                  aria-owns={filterDropDown ? \"filterByMenu\" : undefined}\r\n                  fullWidth\r\n                >\r\n                  <div className=\"large\">Paid or Volunteer</div>\r\n                  <div className=\"small\">\r\n                    <PaidIcon />\r\n                  </div>\r\n                </Button>\r\n                <Menu\r\n                  id=\"filterByMenu\"\r\n                  anchorEl={filterDropDown}\r\n                  open={Boolean(filterDropDown)}\r\n                  onClose={this.closeFilterMenu}\r\n                >\r\n                  <MenuItem\r\n                    value=\"Paid\"\r\n                    onClick={this.filterByPaid()}\r\n                    variant=\"outlined\"\r\n                    name=\"Paid\"\r\n                  >\r\n                    {\" \"}\r\n                    Paid\r\n                  </MenuItem>\r\n                  <MenuItem\r\n                    value=\"Volunteer\"\r\n                    onClick={this.filterByVolunteer()}\r\n                    variant=\"outlined\"\r\n                    name=\"Volunteer\"\r\n                  >\r\n                    {\" \"}\r\n                    Volunteer\r\n                  </MenuItem>\r\n                </Menu>\r\n              </Grid>\r\n              <Grid item xs={3}>\r\n                <Button\r\n                  variant=\"outlined\"\r\n                  aria-haspopup=\"true\"\r\n                  onClick={this.handleOrderBy}\r\n                  aria-owns={orderDropDown ? \"orderByMenu\" : undefined}\r\n                  fullWidth\r\n                >\r\n                  <div className=\"large\">Order by</div>\r\n                  <div className=\"small\">\r\n                    <SortIcon />\r\n                  </div>\r\n                </Button>\r\n                <Menu\r\n                  id=\"orderByMenu\"\r\n                  anchorEl={orderDropDown}\r\n                  open={Boolean(orderDropDown)}\r\n                  onClose={this.closeOrderMenu}\r\n                >\r\n                  <MenuItem onClick={this.orderByName}> First Name</MenuItem>\r\n                  <MenuItem onClick={this.orderByMajor}> Major</MenuItem>\r\n                </Menu>\r\n              </Grid>\r\n              <Grid item xs={3}>\r\n                <Button variant=\"outlined\" onClick={this.shuffle} fullWidth>\r\n                  <div className=\"large\">Shuffle</div>\r\n                  <div className=\"small\">\r\n                    <ShuffleIcon />\r\n                  </div>\r\n                </Button>\r\n              </Grid>\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              {this.state.filterByVolunteer && (\r\n                <Chip\r\n                  className=\"search-chip\"\r\n                  variant=\"outlined\"\r\n                  label=\"Volunteer\"\r\n                  onDelete={this.removeVolunteerFilter()}\r\n                />\r\n              )}\r\n              {this.state.filterByPaid && (\r\n                <Chip\r\n                  className=\"search-chip\"\r\n                  variant=\"outlined\"\r\n                  label=\"Paid\"\r\n                  onDelete={this.removePaidFilter()}\r\n                />\r\n              )}\r\n              {subjectChips}\r\n            </Grid>\r\n          </Paper>\r\n        </header>\r\n        <div>{profileItems}</div>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nProfilesShowcase.propTypes = {\r\n  profile: PropTypes.object.isRequired,\r\n  subjects: PropTypes.object.isRequired,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  profile: state.profile,\r\n  subjects: state.subjects,\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { getProfiles, getSubjects }\r\n)(withStyles(styles)(ProfilesShowcase));\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}